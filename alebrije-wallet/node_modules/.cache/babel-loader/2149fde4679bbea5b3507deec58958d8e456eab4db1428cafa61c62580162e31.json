{"ast":null,"code":"import { estimateGas } from './actions/estimateGas.js';\nexport const chainConfig = {\n  fees: {\n    estimateFeesPerGas,\n    async maxPriorityFeePerGas(_ref) {\n      let {\n        block,\n        client,\n        request\n      } = _ref;\n      const response = await estimateFeesPerGas({\n        block,\n        client,\n        multiply: x => x,\n        request,\n        type: 'eip1559'\n      });\n      // Returning `null` will trigger the base `estimateMaxPriorityFeePerGas` to perform\n      // fallback mechanisms to estimate priority fee.\n      if (!response?.maxPriorityFeePerGas) return null;\n      return response.maxPriorityFeePerGas;\n    }\n  }\n};\n///////////////////////////////////////////////////////////////////////////\n// Internal\n///////////////////////////////////////////////////////////////////////////\nasync function estimateFeesPerGas(_ref2) {\n  let {\n    client,\n    multiply,\n    request,\n    type\n  } = _ref2;\n  try {\n    const response = await estimateGas(client, {\n      ...request,\n      account: request?.account\n    });\n    const {\n      priorityFeePerGas: maxPriorityFeePerGas\n    } = response;\n    const baseFeePerGas = multiply(BigInt(response.baseFeePerGas));\n    const maxFeePerGas = baseFeePerGas + maxPriorityFeePerGas;\n    if (type === 'legacy') return {\n      gasPrice: maxFeePerGas\n    };\n    return {\n      maxFeePerGas,\n      maxPriorityFeePerGas\n    };\n  } catch {\n    // Returning `null` will trigger the base `estimateFeesPerGas` to perform\n    // fallback mechanisms to estimate fees.\n    return null;\n  }\n}","map":{"version":3,"names":["estimateGas","chainConfig","fees","estimateFeesPerGas","maxPriorityFeePerGas","_ref","block","client","request","response","multiply","x","type","_ref2","account","priorityFeePerGas","baseFeePerGas","BigInt","maxFeePerGas","gasPrice"],"sources":["/Users/rastavo/alebrije-project/alebrije-wallet/node_modules/viem/linea/chainConfig.ts"],"sourcesContent":["import type { ChainConfig, ChainEstimateFeesPerGasFn } from '../types/chain.js'\nimport { estimateGas } from './actions/estimateGas.js'\n\nexport const chainConfig = {\n  fees: {\n    estimateFeesPerGas,\n    async maxPriorityFeePerGas({ block, client, request }) {\n      const response = await estimateFeesPerGas({\n        block,\n        client,\n        multiply: (x) => x,\n        request,\n        type: 'eip1559',\n      })\n      // Returning `null` will trigger the base `estimateMaxPriorityFeePerGas` to perform\n      // fallback mechanisms to estimate priority fee.\n      if (!response?.maxPriorityFeePerGas) return null\n      return response.maxPriorityFeePerGas\n    },\n  },\n} as const satisfies ChainConfig\n\n///////////////////////////////////////////////////////////////////////////\n// Internal\n///////////////////////////////////////////////////////////////////////////\n\nasync function estimateFeesPerGas({\n  client,\n  multiply,\n  request,\n  type,\n}: Parameters<ChainEstimateFeesPerGasFn>[0]): ReturnType<ChainEstimateFeesPerGasFn> {\n  try {\n    const response = await estimateGas(client, {\n      ...request,\n      account: request?.account!,\n    })\n    const { priorityFeePerGas: maxPriorityFeePerGas } = response\n\n    const baseFeePerGas = multiply(BigInt(response.baseFeePerGas))\n    const maxFeePerGas = baseFeePerGas + maxPriorityFeePerGas\n\n    if (type === 'legacy') return { gasPrice: maxFeePerGas }\n    return {\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n    }\n  } catch {\n    // Returning `null` will trigger the base `estimateFeesPerGas` to perform\n    // fallback mechanisms to estimate fees.\n    return null\n  }\n}\n"],"mappings":"AACA,SAASA,WAAW,QAAQ,0BAA0B;AAEtD,OAAO,MAAMC,WAAW,GAAG;EACzBC,IAAI,EAAE;IACJC,kBAAkB;IAClB,MAAMC,oBAAoBA,CAAAC,IAAA,EAA2B;MAAA,IAA1B;QAAEC,KAAK;QAAEC,MAAM;QAAEC;MAAO,CAAE,GAAAH,IAAA;MACnD,MAAMI,QAAQ,GAAG,MAAMN,kBAAkB,CAAC;QACxCG,KAAK;QACLC,MAAM;QACNG,QAAQ,EAAGC,CAAC,IAAKA,CAAC;QAClBH,OAAO;QACPI,IAAI,EAAE;OACP,CAAC;MACF;MACA;MACA,IAAI,CAACH,QAAQ,EAAEL,oBAAoB,EAAE,OAAO,IAAI;MAChD,OAAOK,QAAQ,CAACL,oBAAoB;IACtC;;CAE4B;AAEhC;AACA;AACA;AAEA,eAAeD,kBAAkBA,CAAAU,KAAA,EAKU;EAAA,IALT;IAChCN,MAAM;IACNG,QAAQ;IACRF,OAAO;IACPI;EAAI,CACqC,GAAAC,KAAA;EACzC,IAAI;IACF,MAAMJ,QAAQ,GAAG,MAAMT,WAAW,CAACO,MAAM,EAAE;MACzC,GAAGC,OAAO;MACVM,OAAO,EAAEN,OAAO,EAAEM;KACnB,CAAC;IACF,MAAM;MAAEC,iBAAiB,EAAEX;IAAoB,CAAE,GAAGK,QAAQ;IAE5D,MAAMO,aAAa,GAAGN,QAAQ,CAACO,MAAM,CAACR,QAAQ,CAACO,aAAa,CAAC,CAAC;IAC9D,MAAME,YAAY,GAAGF,aAAa,GAAGZ,oBAAoB;IAEzD,IAAIQ,IAAI,KAAK,QAAQ,EAAE,OAAO;MAAEO,QAAQ,EAAED;IAAY,CAAE;IACxD,OAAO;MACLA,YAAY;MACZd;KACD;EACH,CAAC,CAAC,MAAM;IACN;IACA;IACA,OAAO,IAAI;EACb;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}