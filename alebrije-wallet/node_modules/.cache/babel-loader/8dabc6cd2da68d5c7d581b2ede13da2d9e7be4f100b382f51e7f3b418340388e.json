{"ast":null,"code":"var __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _SolanaWalletAdapterWalletAccount_adapter, _SolanaWalletAdapterWallet_instances, _SolanaWalletAdapterWallet_listeners, _SolanaWalletAdapterWallet_adapter, _SolanaWalletAdapterWallet_supportedTransactionVersions, _SolanaWalletAdapterWallet_chain, _SolanaWalletAdapterWallet_endpoint, _SolanaWalletAdapterWallet_account, _SolanaWalletAdapterWallet_connected, _SolanaWalletAdapterWallet_disconnected, _SolanaWalletAdapterWallet_connect, _SolanaWalletAdapterWallet_disconnect, _SolanaWalletAdapterWallet_on, _SolanaWalletAdapterWallet_emit, _SolanaWalletAdapterWallet_off, _SolanaWalletAdapterWallet_deserializeTransaction, _SolanaWalletAdapterWallet_signAndSendTransaction, _SolanaWalletAdapterWallet_signTransaction, _SolanaWalletAdapterWallet_signMessage, _SolanaWalletAdapterWallet_signIn;\nimport { isVersionedTransaction, WalletReadyState } from '@solana/wallet-adapter-base';\nimport { isSolanaChain } from '@solana/wallet-standard-chains';\nimport { SolanaSignAndSendTransaction, SolanaSignIn, SolanaSignMessage, SolanaSignTransaction } from '@solana/wallet-standard-features';\nimport { getEndpointForChain } from '@solana/wallet-standard-util';\nimport { Connection, Transaction, VersionedTransaction } from '@solana/web3.js';\nimport { getWallets } from '@wallet-standard/app';\nimport { StandardConnect, StandardDisconnect, StandardEvents } from '@wallet-standard/features';\nimport { arraysEqual, bytesEqual, ReadonlyWalletAccount } from '@wallet-standard/wallet';\nimport bs58 from 'bs58';\n/** TODO: docs */\nexport class SolanaWalletAdapterWalletAccount extends ReadonlyWalletAccount {\n  constructor(_ref) {\n    let {\n      adapter,\n      address,\n      publicKey,\n      chains\n    } = _ref;\n    const features = [SolanaSignAndSendTransaction];\n    if ('signTransaction' in adapter) {\n      features.push(SolanaSignTransaction);\n    }\n    if ('signMessage' in adapter) {\n      features.push(SolanaSignMessage);\n    }\n    if ('signIn' in adapter) {\n      features.push(SolanaSignIn);\n    }\n    super({\n      address,\n      publicKey,\n      chains,\n      features\n    });\n    // eslint-disable-next-line no-unused-private-class-members\n    _SolanaWalletAdapterWalletAccount_adapter.set(this, void 0);\n    if (new.target === SolanaWalletAdapterWalletAccount) {\n      Object.freeze(this);\n    }\n    __classPrivateFieldSet(this, _SolanaWalletAdapterWalletAccount_adapter, adapter, \"f\");\n  }\n}\n_SolanaWalletAdapterWalletAccount_adapter = new WeakMap();\n/** TODO: docs */\nexport class SolanaWalletAdapterWallet {\n  get version() {\n    return '1.0.0';\n  }\n  get name() {\n    return __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_adapter, \"f\").name;\n  }\n  get icon() {\n    return __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_adapter, \"f\").icon;\n  }\n  get chains() {\n    return [__classPrivateFieldGet(this, _SolanaWalletAdapterWallet_chain, \"f\")];\n  }\n  get features() {\n    const features = {\n      [StandardConnect]: {\n        version: '1.0.0',\n        connect: __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_connect, \"f\")\n      },\n      [StandardDisconnect]: {\n        version: '1.0.0',\n        disconnect: __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_disconnect, \"f\")\n      },\n      [StandardEvents]: {\n        version: '1.0.0',\n        on: __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_on, \"f\")\n      },\n      [SolanaSignAndSendTransaction]: {\n        version: '1.0.0',\n        supportedTransactionVersions: __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_supportedTransactionVersions, \"f\"),\n        signAndSendTransaction: __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_signAndSendTransaction, \"f\")\n      }\n    };\n    let signTransactionFeature;\n    if ('signTransaction' in __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_adapter, \"f\")) {\n      signTransactionFeature = {\n        [SolanaSignTransaction]: {\n          version: '1.0.0',\n          supportedTransactionVersions: __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_supportedTransactionVersions, \"f\"),\n          signTransaction: __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_signTransaction, \"f\")\n        }\n      };\n    }\n    let signMessageFeature;\n    if ('signMessage' in __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_adapter, \"f\")) {\n      signMessageFeature = {\n        [SolanaSignMessage]: {\n          version: '1.0.0',\n          signMessage: __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_signMessage, \"f\")\n        }\n      };\n    }\n    let signInFeature;\n    if ('signIn' in __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_adapter, \"f\")) {\n      signInFeature = {\n        [SolanaSignIn]: {\n          version: '1.0.0',\n          signIn: __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_signIn, \"f\")\n        }\n      };\n    }\n    return {\n      ...features,\n      ...signTransactionFeature,\n      ...signMessageFeature\n    };\n  }\n  get accounts() {\n    return __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_account, \"f\") ? [__classPrivateFieldGet(this, _SolanaWalletAdapterWallet_account, \"f\")] : [];\n  }\n  get endpoint() {\n    return __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_endpoint, \"f\");\n  }\n  constructor(adapter, chain, endpoint) {\n    var _this = this;\n    _SolanaWalletAdapterWallet_instances.add(this);\n    _SolanaWalletAdapterWallet_listeners.set(this, {});\n    _SolanaWalletAdapterWallet_adapter.set(this, void 0);\n    _SolanaWalletAdapterWallet_supportedTransactionVersions.set(this, void 0);\n    _SolanaWalletAdapterWallet_chain.set(this, void 0);\n    _SolanaWalletAdapterWallet_endpoint.set(this, void 0);\n    _SolanaWalletAdapterWallet_account.set(this, void 0);\n    _SolanaWalletAdapterWallet_connect.set(this, async function () {\n      let {\n        silent\n      } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!silent && !__classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_adapter, \"f\").connected) {\n        await __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_adapter, \"f\").connect();\n      }\n      __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_instances, \"m\", _SolanaWalletAdapterWallet_connected).call(_this);\n      return {\n        accounts: _this.accounts\n      };\n    });\n    _SolanaWalletAdapterWallet_disconnect.set(this, async () => {\n      await __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_adapter, \"f\").disconnect();\n    });\n    _SolanaWalletAdapterWallet_on.set(this, (event, listener) => {\n      __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_listeners, \"f\")[event]?.push(listener) || (__classPrivateFieldGet(this, _SolanaWalletAdapterWallet_listeners, \"f\")[event] = [listener]);\n      return () => __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_instances, \"m\", _SolanaWalletAdapterWallet_off).call(this, event, listener);\n    });\n    _SolanaWalletAdapterWallet_signAndSendTransaction.set(this, async function () {\n      const outputs = [];\n      for (var _len = arguments.length, inputs = new Array(_len), _key = 0; _key < _len; _key++) {\n        inputs[_key] = arguments[_key];\n      }\n      if (inputs.length === 1) {\n        const input = inputs[0];\n        if (input.account !== __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_account, \"f\")) throw new Error('invalid account');\n        if (!isSolanaChain(input.chain)) throw new Error('invalid chain');\n        const transaction = __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_instances, \"m\", _SolanaWalletAdapterWallet_deserializeTransaction).call(_this, input.transaction);\n        const {\n          commitment,\n          preflightCommitment,\n          skipPreflight,\n          maxRetries,\n          minContextSlot\n        } = input.options || {};\n        const endpoint = getEndpointForChain(input.chain, __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_endpoint, \"f\"));\n        const connection = new Connection(endpoint, commitment || 'confirmed');\n        const latestBlockhash = commitment ? await connection.getLatestBlockhash({\n          commitment: preflightCommitment || commitment,\n          minContextSlot\n        }) : undefined;\n        const signature = await __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_adapter, \"f\").sendTransaction(transaction, connection, {\n          preflightCommitment,\n          skipPreflight,\n          maxRetries,\n          minContextSlot\n        });\n        if (latestBlockhash) {\n          await connection.confirmTransaction({\n            ...latestBlockhash,\n            signature\n          }, commitment || 'confirmed');\n        }\n        outputs.push({\n          signature: bs58.decode(signature)\n        });\n      } else if (inputs.length > 1) {\n        // Adapters have no `sendAllTransactions` method, so just sign and send each transaction in serial.\n        for (const input of inputs) {\n          outputs.push(...(await __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_signAndSendTransaction, \"f\").call(_this, input)));\n        }\n      }\n      return outputs;\n    });\n    _SolanaWalletAdapterWallet_signTransaction.set(this, async function () {\n      if (!('signTransaction' in __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_adapter, \"f\"))) throw new Error('signTransaction not implemented by adapter');\n      const outputs = [];\n      for (var _len2 = arguments.length, inputs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        inputs[_key2] = arguments[_key2];\n      }\n      if (inputs.length === 1) {\n        const input = inputs[0];\n        if (input.account !== __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_account, \"f\")) throw new Error('invalid account');\n        if (input.chain && !isSolanaChain(input.chain)) throw new Error('invalid chain');\n        const transaction = __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_instances, \"m\", _SolanaWalletAdapterWallet_deserializeTransaction).call(_this, input.transaction);\n        const signedTransaction = await __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_adapter, \"f\").signTransaction(transaction);\n        const serializedTransaction = isVersionedTransaction(signedTransaction) ? signedTransaction.serialize() : new Uint8Array(signedTransaction.serialize({\n          requireAllSignatures: false,\n          verifySignatures: false\n        }));\n        outputs.push({\n          signedTransaction: serializedTransaction\n        });\n      } else if (inputs.length > 1) {\n        for (const input of inputs) {\n          if (input.account !== __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_account, \"f\")) throw new Error('invalid account');\n          if (input.chain && !isSolanaChain(input.chain)) throw new Error('invalid chain');\n        }\n        const transactions = inputs.map(_ref2 => {\n          let {\n            transaction\n          } = _ref2;\n          return __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_instances, \"m\", _SolanaWalletAdapterWallet_deserializeTransaction).call(_this, transaction);\n        });\n        const signedTransactions = await __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_adapter, \"f\").signAllTransactions(transactions);\n        outputs.push(...signedTransactions.map(signedTransaction => {\n          const serializedTransaction = isVersionedTransaction(signedTransaction) ? signedTransaction.serialize() : new Uint8Array(signedTransaction.serialize({\n            requireAllSignatures: false,\n            verifySignatures: false\n          }));\n          return {\n            signedTransaction: serializedTransaction\n          };\n        }));\n      }\n      return outputs;\n    });\n    _SolanaWalletAdapterWallet_signMessage.set(this, async function () {\n      if (!('signMessage' in __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_adapter, \"f\"))) throw new Error('signMessage not implemented by adapter');\n      const outputs = [];\n      for (var _len3 = arguments.length, inputs = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        inputs[_key3] = arguments[_key3];\n      }\n      if (inputs.length === 1) {\n        const input = inputs[0];\n        if (input.account !== __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_account, \"f\")) throw new Error('invalid account');\n        const signature = await __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_adapter, \"f\").signMessage(input.message);\n        outputs.push({\n          signedMessage: input.message,\n          signature\n        });\n      } else if (inputs.length > 1) {\n        // Adapters have no `signAllMessages` method, so just sign each message in serial.\n        for (const input of inputs) {\n          outputs.push(...(await __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_signMessage, \"f\").call(_this, input)));\n        }\n      }\n      return outputs;\n    });\n    _SolanaWalletAdapterWallet_signIn.set(this, async function () {\n      if (!('signIn' in __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_adapter, \"f\"))) throw new Error('signIn not implemented by adapter');\n      for (var _len4 = arguments.length, inputs = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        inputs[_key4] = arguments[_key4];\n      }\n      if (inputs.length > 1) {\n        // Adapters don't support `signIn` with multiple inputs, so just sign in with each input in serial.\n        const outputs = [];\n        for (const input of inputs) {\n          outputs.push(await __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_adapter, \"f\").signIn(input));\n        }\n        return outputs;\n      } else {\n        return [await __classPrivateFieldGet(_this, _SolanaWalletAdapterWallet_adapter, \"f\").signIn(inputs[0])];\n      }\n    });\n    if (new.target === SolanaWalletAdapterWallet) {\n      Object.freeze(this);\n    }\n    const supportedTransactionVersions = [...(adapter.supportedTransactionVersions || ['legacy'])];\n    if (!supportedTransactionVersions.length) {\n      supportedTransactionVersions.push('legacy');\n    }\n    __classPrivateFieldSet(this, _SolanaWalletAdapterWallet_adapter, adapter, \"f\");\n    __classPrivateFieldSet(this, _SolanaWalletAdapterWallet_supportedTransactionVersions, supportedTransactionVersions, \"f\");\n    __classPrivateFieldSet(this, _SolanaWalletAdapterWallet_chain, chain, \"f\");\n    __classPrivateFieldSet(this, _SolanaWalletAdapterWallet_endpoint, endpoint, \"f\");\n    adapter.on('connect', __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_instances, \"m\", _SolanaWalletAdapterWallet_connected), this);\n    adapter.on('disconnect', __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_instances, \"m\", _SolanaWalletAdapterWallet_disconnected), this);\n    __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_instances, \"m\", _SolanaWalletAdapterWallet_connected).call(this);\n  }\n  destroy() {\n    __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_adapter, \"f\").off('connect', __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_instances, \"m\", _SolanaWalletAdapterWallet_connected), this);\n    __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_adapter, \"f\").off('disconnect', __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_instances, \"m\", _SolanaWalletAdapterWallet_disconnected), this);\n  }\n}\n_SolanaWalletAdapterWallet_listeners = new WeakMap(), _SolanaWalletAdapterWallet_adapter = new WeakMap(), _SolanaWalletAdapterWallet_supportedTransactionVersions = new WeakMap(), _SolanaWalletAdapterWallet_chain = new WeakMap(), _SolanaWalletAdapterWallet_endpoint = new WeakMap(), _SolanaWalletAdapterWallet_account = new WeakMap(), _SolanaWalletAdapterWallet_connect = new WeakMap(), _SolanaWalletAdapterWallet_disconnect = new WeakMap(), _SolanaWalletAdapterWallet_on = new WeakMap(), _SolanaWalletAdapterWallet_signAndSendTransaction = new WeakMap(), _SolanaWalletAdapterWallet_signTransaction = new WeakMap(), _SolanaWalletAdapterWallet_signMessage = new WeakMap(), _SolanaWalletAdapterWallet_signIn = new WeakMap(), _SolanaWalletAdapterWallet_instances = new WeakSet(), _SolanaWalletAdapterWallet_connected = function _SolanaWalletAdapterWallet_connected() {\n  const publicKey = __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_adapter, \"f\").publicKey?.toBytes();\n  if (publicKey) {\n    const address = __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_adapter, \"f\").publicKey.toBase58();\n    const account = __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_account, \"f\");\n    if (!account || account.address !== address || account.chains.includes(__classPrivateFieldGet(this, _SolanaWalletAdapterWallet_chain, \"f\")) || !bytesEqual(account.publicKey, publicKey)) {\n      __classPrivateFieldSet(this, _SolanaWalletAdapterWallet_account, new SolanaWalletAdapterWalletAccount({\n        adapter: __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_adapter, \"f\"),\n        address,\n        publicKey,\n        chains: [__classPrivateFieldGet(this, _SolanaWalletAdapterWallet_chain, \"f\")]\n      }), \"f\");\n      __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_instances, \"m\", _SolanaWalletAdapterWallet_emit).call(this, 'change', {\n        accounts: this.accounts\n      });\n    }\n  }\n}, _SolanaWalletAdapterWallet_disconnected = function _SolanaWalletAdapterWallet_disconnected() {\n  if (__classPrivateFieldGet(this, _SolanaWalletAdapterWallet_account, \"f\")) {\n    __classPrivateFieldSet(this, _SolanaWalletAdapterWallet_account, undefined, \"f\");\n    __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_instances, \"m\", _SolanaWalletAdapterWallet_emit).call(this, 'change', {\n      accounts: this.accounts\n    });\n  }\n}, _SolanaWalletAdapterWallet_emit = function _SolanaWalletAdapterWallet_emit(event) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    args[_key5 - 1] = arguments[_key5];\n  }\n  // eslint-disable-next-line prefer-spread\n  __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_listeners, \"f\")[event]?.forEach(listener => listener.apply(null, args));\n}, _SolanaWalletAdapterWallet_off = function _SolanaWalletAdapterWallet_off(event, listener) {\n  __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_listeners, \"f\")[event] = __classPrivateFieldGet(this, _SolanaWalletAdapterWallet_listeners, \"f\")[event]?.filter(existingListener => listener !== existingListener);\n}, _SolanaWalletAdapterWallet_deserializeTransaction = function _SolanaWalletAdapterWallet_deserializeTransaction(serializedTransaction) {\n  const transaction = VersionedTransaction.deserialize(serializedTransaction);\n  if (!__classPrivateFieldGet(this, _SolanaWalletAdapterWallet_supportedTransactionVersions, \"f\").includes(transaction.version)) throw new Error('unsupported transaction version');\n  if (transaction.version === 'legacy' && arraysEqual(__classPrivateFieldGet(this, _SolanaWalletAdapterWallet_supportedTransactionVersions, \"f\"), ['legacy'])) return Transaction.from(serializedTransaction);\n  return transaction;\n};\n/** TODO: docs */\nexport function registerWalletAdapter(adapter, chain, endpoint) {\n  let match = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : wallet => wallet.name === adapter.name;\n  const {\n    register,\n    get,\n    on\n  } = getWallets();\n  const destructors = [];\n  function destroy() {\n    destructors.forEach(destroy => destroy());\n    destructors.length = 0;\n  }\n  function setup() {\n    // If the adapter is unsupported, or a standard wallet that matches it has already been registered, do nothing.\n    if (adapter.readyState === WalletReadyState.Unsupported || get().some(match)) return true;\n    // If the adapter isn't ready, try again later.\n    const ready = adapter.readyState === WalletReadyState.Installed || adapter.readyState === WalletReadyState.Loadable;\n    if (ready) {\n      const wallet = new SolanaWalletAdapterWallet(adapter, chain, endpoint);\n      destructors.push(() => wallet.destroy());\n      // Register the adapter wrapped as a standard wallet, and receive a function to unregister the adapter.\n      destructors.push(register(wallet));\n      // Whenever a standard wallet is registered ...\n      destructors.push(on('register', function () {\n        for (var _len6 = arguments.length, wallets = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n          wallets[_key6] = arguments[_key6];\n        }\n        // ... check if it matches the adapter.\n        if (wallets.some(match)) {\n          // If it does, remove the event listener and unregister the adapter.\n          destroy();\n        }\n      }));\n    }\n    return ready;\n  }\n  if (!setup()) {\n    function listener() {\n      if (setup()) {\n        adapter.off('readyStateChange', listener);\n      }\n    }\n    adapter.on('readyStateChange', listener);\n    destructors.push(() => adapter.off('readyStateChange', listener));\n  }\n  return destroy;\n}","map":{"version":3,"names":["isVersionedTransaction","WalletReadyState","isSolanaChain","SolanaSignAndSendTransaction","SolanaSignIn","SolanaSignMessage","SolanaSignTransaction","getEndpointForChain","Connection","Transaction","VersionedTransaction","getWallets","StandardConnect","StandardDisconnect","StandardEvents","arraysEqual","bytesEqual","ReadonlyWalletAccount","bs58","SolanaWalletAdapterWalletAccount","constructor","_ref","adapter","address","publicKey","chains","features","push","_SolanaWalletAdapterWalletAccount_adapter","set","new","target","Object","freeze","__classPrivateFieldSet","SolanaWalletAdapterWallet","version","name","__classPrivateFieldGet","_SolanaWalletAdapterWallet_adapter","icon","_SolanaWalletAdapterWallet_chain","connect","_SolanaWalletAdapterWallet_connect","disconnect","_SolanaWalletAdapterWallet_disconnect","on","_SolanaWalletAdapterWallet_on","supportedTransactionVersions","_SolanaWalletAdapterWallet_supportedTransactionVersions","signAndSendTransaction","_SolanaWalletAdapterWallet_signAndSendTransaction","signTransactionFeature","signTransaction","_SolanaWalletAdapterWallet_signTransaction","signMessageFeature","signMessage","_SolanaWalletAdapterWallet_signMessage","signInFeature","signIn","_SolanaWalletAdapterWallet_signIn","accounts","_SolanaWalletAdapterWallet_account","endpoint","_SolanaWalletAdapterWallet_endpoint","chain","_this","_SolanaWalletAdapterWallet_listeners","silent","arguments","length","undefined","connected","_SolanaWalletAdapterWallet_instances","_SolanaWalletAdapterWallet_connected","call","event","listener","_SolanaWalletAdapterWallet_off","outputs","_len","inputs","Array","_key","input","account","Error","transaction","_SolanaWalletAdapterWallet_deserializeTransaction","commitment","preflightCommitment","skipPreflight","maxRetries","minContextSlot","options","connection","latestBlockhash","getLatestBlockhash","signature","sendTransaction","confirmTransaction","decode","_len2","_key2","signedTransaction","serializedTransaction","serialize","Uint8Array","requireAllSignatures","verifySignatures","transactions","map","_ref2","signedTransactions","signAllTransactions","_len3","_key3","message","signedMessage","_len4","_key4","_SolanaWalletAdapterWallet_disconnected","destroy","off","toBytes","toBase58","includes","_SolanaWalletAdapterWallet_emit","_len5","args","_key5","forEach","apply","filter","existingListener","deserialize","from","registerWalletAdapter","match","wallet","register","get","destructors","setup","readyState","Unsupported","some","ready","Installed","Loadable","_len6","wallets","_key6"],"sources":["/Users/rastavo/alebrije-project/alebrije-wallet/node_modules/@solana/wallet-standard-wallet-adapter-base/src/wallet.ts"],"sourcesContent":["import { type Adapter, isVersionedTransaction, WalletReadyState } from '@solana/wallet-adapter-base';\nimport { isSolanaChain, type SolanaChain } from '@solana/wallet-standard-chains';\nimport {\n    SolanaSignAndSendTransaction,\n    type SolanaSignAndSendTransactionFeature,\n    type SolanaSignAndSendTransactionMethod,\n    type SolanaSignAndSendTransactionOutput,\n    SolanaSignIn,\n    type SolanaSignInFeature,\n    type SolanaSignInMethod,\n    type SolanaSignInOutput,\n    SolanaSignMessage,\n    type SolanaSignMessageFeature,\n    type SolanaSignMessageMethod,\n    type SolanaSignMessageOutput,\n    SolanaSignTransaction,\n    type SolanaSignTransactionFeature,\n    type SolanaSignTransactionMethod,\n    type SolanaSignTransactionOutput,\n    type SolanaTransactionVersion,\n} from '@solana/wallet-standard-features';\nimport { getEndpointForChain } from '@solana/wallet-standard-util';\nimport { Connection, Transaction, VersionedTransaction } from '@solana/web3.js';\nimport { getWallets } from '@wallet-standard/app';\nimport type { Wallet, WalletIcon } from '@wallet-standard/base';\nimport {\n    StandardConnect,\n    type StandardConnectFeature,\n    type StandardConnectMethod,\n    StandardDisconnect,\n    type StandardDisconnectFeature,\n    type StandardDisconnectMethod,\n    StandardEvents,\n    type StandardEventsFeature,\n    type StandardEventsListeners,\n    type StandardEventsNames,\n    type StandardEventsOnMethod,\n} from '@wallet-standard/features';\nimport { arraysEqual, bytesEqual, ReadonlyWalletAccount } from '@wallet-standard/wallet';\nimport bs58 from 'bs58';\n\n/** TODO: docs */\nexport class SolanaWalletAdapterWalletAccount extends ReadonlyWalletAccount {\n    // eslint-disable-next-line no-unused-private-class-members\n    readonly #adapter: Adapter;\n\n    constructor({\n        adapter,\n        address,\n        publicKey,\n        chains,\n    }: {\n        adapter: Adapter;\n        address: string;\n        publicKey: Uint8Array;\n        chains: readonly SolanaChain[];\n    }) {\n        const features: (keyof (SolanaSignAndSendTransactionFeature &\n            SolanaSignTransactionFeature &\n            SolanaSignMessageFeature &\n            SolanaSignInFeature))[] = [SolanaSignAndSendTransaction];\n        if ('signTransaction' in adapter) {\n            features.push(SolanaSignTransaction);\n        }\n        if ('signMessage' in adapter) {\n            features.push(SolanaSignMessage);\n        }\n        if ('signIn' in adapter) {\n            features.push(SolanaSignIn);\n        }\n\n        super({ address, publicKey, chains, features });\n        if (new.target === SolanaWalletAdapterWalletAccount) {\n            Object.freeze(this);\n        }\n\n        this.#adapter = adapter;\n    }\n}\n\n/** TODO: docs */\nexport class SolanaWalletAdapterWallet implements Wallet {\n    readonly #listeners: {\n        [E in StandardEventsNames]?: StandardEventsListeners[E][];\n    } = {};\n    readonly #adapter: Adapter;\n    readonly #supportedTransactionVersions: readonly SolanaTransactionVersion[];\n    readonly #chain: SolanaChain;\n    readonly #endpoint: string | undefined;\n    #account: SolanaWalletAdapterWalletAccount | undefined;\n\n    get version() {\n        return '1.0.0' as const;\n    }\n\n    get name() {\n        return this.#adapter.name;\n    }\n\n    get icon() {\n        return this.#adapter.icon as WalletIcon;\n    }\n\n    get chains() {\n        return [this.#chain];\n    }\n\n    get features(): StandardConnectFeature &\n        StandardDisconnectFeature &\n        StandardEventsFeature &\n        SolanaSignAndSendTransactionFeature &\n        Partial<SolanaSignTransactionFeature & SolanaSignMessageFeature & SolanaSignInFeature> {\n        const features: StandardConnectFeature &\n            StandardDisconnectFeature &\n            StandardEventsFeature &\n            SolanaSignAndSendTransactionFeature = {\n            [StandardConnect]: {\n                version: '1.0.0',\n                connect: this.#connect,\n            },\n            [StandardDisconnect]: {\n                version: '1.0.0',\n                disconnect: this.#disconnect,\n            },\n            [StandardEvents]: {\n                version: '1.0.0',\n                on: this.#on,\n            },\n            [SolanaSignAndSendTransaction]: {\n                version: '1.0.0',\n                supportedTransactionVersions: this.#supportedTransactionVersions,\n                signAndSendTransaction: this.#signAndSendTransaction,\n            },\n        };\n\n        let signTransactionFeature: SolanaSignTransactionFeature | undefined;\n        if ('signTransaction' in this.#adapter) {\n            signTransactionFeature = {\n                [SolanaSignTransaction]: {\n                    version: '1.0.0',\n                    supportedTransactionVersions: this.#supportedTransactionVersions,\n                    signTransaction: this.#signTransaction,\n                },\n            };\n        }\n\n        let signMessageFeature: SolanaSignMessageFeature | undefined;\n        if ('signMessage' in this.#adapter) {\n            signMessageFeature = {\n                [SolanaSignMessage]: {\n                    version: '1.0.0',\n                    signMessage: this.#signMessage,\n                },\n            };\n        }\n\n        let signInFeature: SolanaSignInFeature | undefined;\n        if ('signIn' in this.#adapter) {\n            signInFeature = {\n                [SolanaSignIn]: {\n                    version: '1.0.0',\n                    signIn: this.#signIn,\n                },\n            };\n        }\n\n        return { ...features, ...signTransactionFeature, ...signMessageFeature };\n    }\n\n    get accounts() {\n        return this.#account ? [this.#account] : [];\n    }\n\n    get endpoint() {\n        return this.#endpoint;\n    }\n\n    constructor(adapter: Adapter, chain: SolanaChain, endpoint?: string) {\n        if (new.target === SolanaWalletAdapterWallet) {\n            Object.freeze(this);\n        }\n\n        const supportedTransactionVersions = [...(adapter.supportedTransactionVersions || ['legacy'])];\n        if (!supportedTransactionVersions.length) {\n            supportedTransactionVersions.push('legacy');\n        }\n\n        this.#adapter = adapter;\n        this.#supportedTransactionVersions = supportedTransactionVersions;\n        this.#chain = chain;\n        this.#endpoint = endpoint;\n\n        adapter.on('connect', this.#connected, this);\n        adapter.on('disconnect', this.#disconnected, this);\n\n        this.#connected();\n    }\n\n    destroy(): void {\n        this.#adapter.off('connect', this.#connected, this);\n        this.#adapter.off('disconnect', this.#disconnected, this);\n    }\n\n    #connected(): void {\n        const publicKey = this.#adapter.publicKey?.toBytes();\n        if (publicKey) {\n            const address = this.#adapter.publicKey!.toBase58();\n            const account = this.#account;\n            if (\n                !account ||\n                account.address !== address ||\n                account.chains.includes(this.#chain) ||\n                !bytesEqual(account.publicKey, publicKey)\n            ) {\n                this.#account = new SolanaWalletAdapterWalletAccount({\n                    adapter: this.#adapter,\n                    address,\n                    publicKey,\n                    chains: [this.#chain],\n                });\n                this.#emit('change', { accounts: this.accounts });\n            }\n        }\n    }\n\n    #disconnected(): void {\n        if (this.#account) {\n            this.#account = undefined;\n            this.#emit('change', { accounts: this.accounts });\n        }\n    }\n\n    #connect: StandardConnectMethod = async ({ silent } = {}) => {\n        if (!silent && !this.#adapter.connected) {\n            await this.#adapter.connect();\n        }\n\n        this.#connected();\n\n        return { accounts: this.accounts };\n    };\n\n    #disconnect: StandardDisconnectMethod = async () => {\n        await this.#adapter.disconnect();\n    };\n\n    #on: StandardEventsOnMethod = (event, listener) => {\n        this.#listeners[event]?.push(listener) || (this.#listeners[event] = [listener]);\n        return (): void => this.#off(event, listener);\n    };\n\n    #emit<E extends StandardEventsNames>(event: E, ...args: Parameters<StandardEventsListeners[E]>): void {\n        // eslint-disable-next-line prefer-spread\n        this.#listeners[event]?.forEach((listener) => listener.apply(null, args));\n    }\n\n    #off<E extends StandardEventsNames>(event: E, listener: StandardEventsListeners[E]): void {\n        this.#listeners[event] = this.#listeners[event]?.filter((existingListener) => listener !== existingListener);\n    }\n\n    #deserializeTransaction(serializedTransaction: Uint8Array): Transaction | VersionedTransaction {\n        const transaction = VersionedTransaction.deserialize(serializedTransaction);\n        if (!this.#supportedTransactionVersions.includes(transaction.version))\n            throw new Error('unsupported transaction version');\n        if (transaction.version === 'legacy' && arraysEqual(this.#supportedTransactionVersions, ['legacy']))\n            return Transaction.from(serializedTransaction);\n        return transaction;\n    }\n\n    #signAndSendTransaction: SolanaSignAndSendTransactionMethod = async (...inputs) => {\n        const outputs: SolanaSignAndSendTransactionOutput[] = [];\n\n        if (inputs.length === 1) {\n            const input = inputs[0]!;\n            if (input.account !== this.#account) throw new Error('invalid account');\n            if (!isSolanaChain(input.chain)) throw new Error('invalid chain');\n            const transaction = this.#deserializeTransaction(input.transaction);\n            const { commitment, preflightCommitment, skipPreflight, maxRetries, minContextSlot } = input.options || {};\n            const endpoint = getEndpointForChain(input.chain, this.#endpoint);\n            const connection = new Connection(endpoint, commitment || 'confirmed');\n\n            const latestBlockhash = commitment\n                ? await connection.getLatestBlockhash({\n                      commitment: preflightCommitment || commitment,\n                      minContextSlot,\n                  })\n                : undefined;\n\n            const signature = await this.#adapter.sendTransaction(transaction, connection, {\n                preflightCommitment,\n                skipPreflight,\n                maxRetries,\n                minContextSlot,\n            });\n\n            if (latestBlockhash) {\n                await connection.confirmTransaction(\n                    {\n                        ...latestBlockhash,\n                        signature,\n                    },\n                    commitment || 'confirmed'\n                );\n            }\n\n            outputs.push({ signature: bs58.decode(signature) });\n        } else if (inputs.length > 1) {\n            // Adapters have no `sendAllTransactions` method, so just sign and send each transaction in serial.\n            for (const input of inputs) {\n                outputs.push(...(await this.#signAndSendTransaction(input)));\n            }\n        }\n\n        return outputs;\n    };\n\n    #signTransaction: SolanaSignTransactionMethod = async (...inputs) => {\n        if (!('signTransaction' in this.#adapter)) throw new Error('signTransaction not implemented by adapter');\n        const outputs: SolanaSignTransactionOutput[] = [];\n\n        if (inputs.length === 1) {\n            const input = inputs[0]!;\n            if (input.account !== this.#account) throw new Error('invalid account');\n            if (input.chain && !isSolanaChain(input.chain)) throw new Error('invalid chain');\n            const transaction = this.#deserializeTransaction(input.transaction);\n\n            const signedTransaction = await this.#adapter.signTransaction(transaction);\n\n            const serializedTransaction = isVersionedTransaction(signedTransaction)\n                ? signedTransaction.serialize()\n                : new Uint8Array(\n                      signedTransaction.serialize({\n                          requireAllSignatures: false,\n                          verifySignatures: false,\n                      })\n                  );\n\n            outputs.push({ signedTransaction: serializedTransaction });\n        } else if (inputs.length > 1) {\n            for (const input of inputs) {\n                if (input.account !== this.#account) throw new Error('invalid account');\n                if (input.chain && !isSolanaChain(input.chain)) throw new Error('invalid chain');\n            }\n            const transactions = inputs.map(({ transaction }) => this.#deserializeTransaction(transaction));\n\n            const signedTransactions = await this.#adapter.signAllTransactions(transactions);\n\n            outputs.push(\n                ...signedTransactions.map((signedTransaction) => {\n                    const serializedTransaction = isVersionedTransaction(signedTransaction)\n                        ? signedTransaction.serialize()\n                        : new Uint8Array(\n                              signedTransaction.serialize({\n                                  requireAllSignatures: false,\n                                  verifySignatures: false,\n                              })\n                          );\n\n                    return { signedTransaction: serializedTransaction };\n                })\n            );\n        }\n\n        return outputs;\n    };\n\n    #signMessage: SolanaSignMessageMethod = async (...inputs) => {\n        if (!('signMessage' in this.#adapter)) throw new Error('signMessage not implemented by adapter');\n        const outputs: SolanaSignMessageOutput[] = [];\n\n        if (inputs.length === 1) {\n            const input = inputs[0]!;\n            if (input.account !== this.#account) throw new Error('invalid account');\n\n            const signature = await this.#adapter.signMessage(input.message);\n\n            outputs.push({ signedMessage: input.message, signature });\n        } else if (inputs.length > 1) {\n            // Adapters have no `signAllMessages` method, so just sign each message in serial.\n            for (const input of inputs) {\n                outputs.push(...(await this.#signMessage(input)));\n            }\n        }\n\n        return outputs;\n    };\n\n    #signIn: SolanaSignInMethod = async (...inputs) => {\n        if (!('signIn' in this.#adapter)) throw new Error('signIn not implemented by adapter');\n\n        if (inputs.length > 1) {\n            // Adapters don't support `signIn` with multiple inputs, so just sign in with each input in serial.\n            const outputs: SolanaSignInOutput[] = [];\n            for (const input of inputs) {\n                outputs.push(await this.#adapter.signIn(input));\n            }\n            return outputs;\n        } else {\n            return [await this.#adapter.signIn(inputs[0])];\n        }\n    };\n}\n\n/** TODO: docs */\nexport function registerWalletAdapter(\n    adapter: Adapter,\n    chain: SolanaChain,\n    endpoint?: string,\n    match: (wallet: Wallet) => boolean = (wallet) => wallet.name === adapter.name\n): () => void {\n    const { register, get, on } = getWallets();\n    const destructors: (() => void)[] = [];\n\n    function destroy(): void {\n        destructors.forEach((destroy) => destroy());\n        destructors.length = 0;\n    }\n\n    function setup(): boolean {\n        // If the adapter is unsupported, or a standard wallet that matches it has already been registered, do nothing.\n        if (adapter.readyState === WalletReadyState.Unsupported || get().some(match)) return true;\n\n        // If the adapter isn't ready, try again later.\n        const ready =\n            adapter.readyState === WalletReadyState.Installed || adapter.readyState === WalletReadyState.Loadable;\n        if (ready) {\n            const wallet = new SolanaWalletAdapterWallet(adapter, chain, endpoint);\n            destructors.push(() => wallet.destroy());\n            // Register the adapter wrapped as a standard wallet, and receive a function to unregister the adapter.\n            destructors.push(register(wallet));\n            // Whenever a standard wallet is registered ...\n            destructors.push(\n                on('register', (...wallets) => {\n                    // ... check if it matches the adapter.\n                    if (wallets.some(match)) {\n                        // If it does, remove the event listener and unregister the adapter.\n                        destroy();\n                    }\n                })\n            );\n        }\n        return ready;\n    }\n\n    if (!setup()) {\n        function listener(): void {\n            if (setup()) {\n                adapter.off('readyStateChange', listener);\n            }\n        }\n\n        adapter.on('readyStateChange', listener);\n        destructors.push(() => adapter.off('readyStateChange', listener));\n    }\n\n    return destroy;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}