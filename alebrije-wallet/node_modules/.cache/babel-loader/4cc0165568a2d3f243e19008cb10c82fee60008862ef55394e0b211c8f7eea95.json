{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LogsManager = void 0;\nconst logs_1 = require(\"./logs\");\nclass LogsManager {\n  logs = {};\n  writer;\n  colors = {};\n  constructor(_ref) {\n    let {\n      colors\n    } = _ref;\n    this.colors = colors;\n  }\n  initLog(prefix, enabled, logWriter) {\n    const instanceWriter = logWriter || this.writer;\n    const instance = new logs_1.Log(prefix, !!enabled, instanceWriter);\n    if (this.colors) {\n      instance.setColors(this.colors);\n    }\n    this.logs[prefix] = instance;\n    return instance;\n  }\n  setLogWriter(logWriterFactory) {\n    Object.keys(this.logs).forEach(key => {\n      this.writer = logWriterFactory();\n      if (this.writer) {\n        this.logs[key].setWriter(this.writer);\n        const {\n          messages\n        } = this.logs[key];\n        messages.forEach(message => {\n          this.writer?.add(message);\n        });\n      }\n    });\n  }\n  enableLog(enabled) {\n    Object.keys(this.logs).forEach(key => {\n      this.logs[key].enabled = !!enabled;\n    });\n  }\n  enableLogByPrefix(prefix, enabled) {\n    if (this.logs[prefix]) {\n      this.logs[prefix].enabled = enabled;\n    }\n  }\n  getLog() {\n    let logs = [];\n    Object.keys(this.logs).forEach(key => {\n      logs = logs.concat(this.logs[key].messages);\n    });\n    logs.sort((a, b) => a.timestamp - b.timestamp);\n    return logs;\n  }\n}\nexports.LogsManager = LogsManager;","map":{"version":3,"names":["Object","defineProperty","exports","value","LogsManager","logs_1","require","logs","writer","colors","constructor","_ref","initLog","prefix","enabled","logWriter","instanceWriter","instance","Log","setColors","setLogWriter","logWriterFactory","keys","forEach","key","setWriter","messages","message","add","enableLog","enableLogByPrefix","getLog","concat","sort","a","b","timestamp"],"sources":["/Users/rastavo/alebrije-project/alebrije-wallet/node_modules/@trezor/utils/lib/logsManager.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LogsManager = void 0;\nconst logs_1 = require(\"./logs\");\nclass LogsManager {\n    logs = {};\n    writer;\n    colors = {};\n    constructor({ colors }) {\n        this.colors = colors;\n    }\n    initLog(prefix, enabled, logWriter) {\n        const instanceWriter = logWriter || this.writer;\n        const instance = new logs_1.Log(prefix, !!enabled, instanceWriter);\n        if (this.colors) {\n            instance.setColors(this.colors);\n        }\n        this.logs[prefix] = instance;\n        return instance;\n    }\n    setLogWriter(logWriterFactory) {\n        Object.keys(this.logs).forEach(key => {\n            this.writer = logWriterFactory();\n            if (this.writer) {\n                this.logs[key].setWriter(this.writer);\n                const { messages } = this.logs[key];\n                messages.forEach(message => {\n                    this.writer?.add(message);\n                });\n            }\n        });\n    }\n    enableLog(enabled) {\n        Object.keys(this.logs).forEach(key => {\n            this.logs[key].enabled = !!enabled;\n        });\n    }\n    enableLogByPrefix(prefix, enabled) {\n        if (this.logs[prefix]) {\n            this.logs[prefix].enabled = enabled;\n        }\n    }\n    getLog() {\n        let logs = [];\n        Object.keys(this.logs).forEach(key => {\n            logs = logs.concat(this.logs[key].messages);\n        });\n        logs.sort((a, b) => a.timestamp - b.timestamp);\n        return logs;\n    }\n}\nexports.LogsManager = LogsManager;\n//# sourceMappingURL=logsManager.js.map"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,WAAW,GAAG,KAAK,CAAC;AAC5B,MAAMC,MAAM,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAChC,MAAMF,WAAW,CAAC;EACdG,IAAI,GAAG,CAAC,CAAC;EACTC,MAAM;EACNC,MAAM,GAAG,CAAC,CAAC;EACXC,WAAWA,CAAAC,IAAA,EAAa;IAAA,IAAZ;MAAEF;IAAO,CAAC,GAAAE,IAAA;IAClB,IAAI,CAACF,MAAM,GAAGA,MAAM;EACxB;EACAG,OAAOA,CAACC,MAAM,EAAEC,OAAO,EAAEC,SAAS,EAAE;IAChC,MAAMC,cAAc,GAAGD,SAAS,IAAI,IAAI,CAACP,MAAM;IAC/C,MAAMS,QAAQ,GAAG,IAAIZ,MAAM,CAACa,GAAG,CAACL,MAAM,EAAE,CAAC,CAACC,OAAO,EAAEE,cAAc,CAAC;IAClE,IAAI,IAAI,CAACP,MAAM,EAAE;MACbQ,QAAQ,CAACE,SAAS,CAAC,IAAI,CAACV,MAAM,CAAC;IACnC;IACA,IAAI,CAACF,IAAI,CAACM,MAAM,CAAC,GAAGI,QAAQ;IAC5B,OAAOA,QAAQ;EACnB;EACAG,YAAYA,CAACC,gBAAgB,EAAE;IAC3BrB,MAAM,CAACsB,IAAI,CAAC,IAAI,CAACf,IAAI,CAAC,CAACgB,OAAO,CAACC,GAAG,IAAI;MAClC,IAAI,CAAChB,MAAM,GAAGa,gBAAgB,CAAC,CAAC;MAChC,IAAI,IAAI,CAACb,MAAM,EAAE;QACb,IAAI,CAACD,IAAI,CAACiB,GAAG,CAAC,CAACC,SAAS,CAAC,IAAI,CAACjB,MAAM,CAAC;QACrC,MAAM;UAAEkB;QAAS,CAAC,GAAG,IAAI,CAACnB,IAAI,CAACiB,GAAG,CAAC;QACnCE,QAAQ,CAACH,OAAO,CAACI,OAAO,IAAI;UACxB,IAAI,CAACnB,MAAM,EAAEoB,GAAG,CAACD,OAAO,CAAC;QAC7B,CAAC,CAAC;MACN;IACJ,CAAC,CAAC;EACN;EACAE,SAASA,CAACf,OAAO,EAAE;IACfd,MAAM,CAACsB,IAAI,CAAC,IAAI,CAACf,IAAI,CAAC,CAACgB,OAAO,CAACC,GAAG,IAAI;MAClC,IAAI,CAACjB,IAAI,CAACiB,GAAG,CAAC,CAACV,OAAO,GAAG,CAAC,CAACA,OAAO;IACtC,CAAC,CAAC;EACN;EACAgB,iBAAiBA,CAACjB,MAAM,EAAEC,OAAO,EAAE;IAC/B,IAAI,IAAI,CAACP,IAAI,CAACM,MAAM,CAAC,EAAE;MACnB,IAAI,CAACN,IAAI,CAACM,MAAM,CAAC,CAACC,OAAO,GAAGA,OAAO;IACvC;EACJ;EACAiB,MAAMA,CAAA,EAAG;IACL,IAAIxB,IAAI,GAAG,EAAE;IACbP,MAAM,CAACsB,IAAI,CAAC,IAAI,CAACf,IAAI,CAAC,CAACgB,OAAO,CAACC,GAAG,IAAI;MAClCjB,IAAI,GAAGA,IAAI,CAACyB,MAAM,CAAC,IAAI,CAACzB,IAAI,CAACiB,GAAG,CAAC,CAACE,QAAQ,CAAC;IAC/C,CAAC,CAAC;IACFnB,IAAI,CAAC0B,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,SAAS,GAAGD,CAAC,CAACC,SAAS,CAAC;IAC9C,OAAO7B,IAAI;EACf;AACJ;AACAL,OAAO,CAACE,WAAW,GAAGA,WAAW","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}