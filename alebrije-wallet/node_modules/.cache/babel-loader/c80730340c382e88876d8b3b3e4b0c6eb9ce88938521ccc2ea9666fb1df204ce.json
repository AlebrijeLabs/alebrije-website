{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button,Alert,Spinner}from'react-bootstrap';import WalletService from'../services/wallet-service';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const WalletConnect=()=>{const[isConnecting,setIsConnecting]=useState(false);const[error,setError]=useState(null);const[accounts,setAccounts]=useState([]);const[copied,setCopied]=useState(false);useEffect(()=>{// Check if already connected\nif(WalletService.isConnected()){setAccounts(WalletService.getAccounts());}},[]);const handleConnect=async()=>{setIsConnecting(true);setError(null);try{const success=await WalletService.connect();if(success){setAccounts(WalletService.getAccounts());}else{setError('Failed to connect wallet');}}catch(err){setError(err.message||'An error occurred while connecting');console.error('Connection error:',err);}finally{setIsConnecting(false);}};const handleDisconnect=async()=>{await WalletService.disconnect();setAccounts([]);};const formatAddress=address=>{if(!address)return'';return`${address.substring(0,6)}...${address.substring(address.length-4)}`;};const handleCopy=async address=>{await navigator.clipboard.writeText(address);setCopied(true);setTimeout(()=>setCopied(false),2000);};return/*#__PURE__*/_jsxs(\"div\",{className:\"wallet-connect-container\",children:[error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),accounts.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"connected-wallet\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"account-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"account-label\",children:\"Connected Account:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"account-address\",children:formatAddress(accounts[0])}),/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",size:\"sm\",className:\"copy-button ms-2\",onClick:()=>handleCopy(accounts[0]),title:\"Copy address\",style:{padding:'2px 8px',display:'inline-flex',alignItems:'center',transition:'all 0.2s ease',border:'1px solid #dee2e6',borderRadius:'4px',backgroundColor:copied?'#198754':'transparent'},children:copied?'âœ“':'ðŸ“‹'})]}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",onClick:handleDisconnect,size:\"sm\",children:\"Disconnect\"})]}):/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleConnect,disabled:isConnecting,children:isConnecting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Spinner,{as:\"span\",animation:\"border\",size:\"sm\",role:\"status\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2\",children:\"Connecting...\"})]}):'Connect Wallet'})]});};export default WalletConnect;","map":{"version":3,"names":["React","useState","useEffect","Button","Alert","Spinner","WalletService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WalletConnect","isConnecting","setIsConnecting","error","setError","accounts","setAccounts","copied","setCopied","isConnected","getAccounts","handleConnect","success","connect","err","message","console","handleDisconnect","disconnect","formatAddress","address","substring","length","handleCopy","navigator","clipboard","writeText","setTimeout","className","children","variant","size","onClick","title","style","padding","display","alignItems","transition","border","borderRadius","backgroundColor","disabled","as","animation","role"],"sources":["/Users/rastavo/alebrije-project/alebrije-wallet/src/components/WalletConnect.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button, Alert, Spinner } from 'react-bootstrap';\nimport WalletService from '../services/wallet-service';\n\nconst WalletConnect = () => {\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [error, setError] = useState(null);\n  const [accounts, setAccounts] = useState([]);\n  const [copied, setCopied] = useState(false);\n  \n  useEffect(() => {\n    // Check if already connected\n    if (WalletService.isConnected()) {\n      setAccounts(WalletService.getAccounts());\n    }\n  }, []);\n  \n  const handleConnect = async () => {\n    setIsConnecting(true);\n    setError(null);\n    \n    try {\n      const success = await WalletService.connect();\n      if (success) {\n        setAccounts(WalletService.getAccounts());\n      } else {\n        setError('Failed to connect wallet');\n      }\n    } catch (err) {\n      setError(err.message || 'An error occurred while connecting');\n      console.error('Connection error:', err);\n    } finally {\n      setIsConnecting(false);\n    }\n  };\n  \n  const handleDisconnect = async () => {\n    await WalletService.disconnect();\n    setAccounts([]);\n  };\n  \n  const formatAddress = (address) => {\n    if (!address) return '';\n    return `${address.substring(0, 6)}...${address.substring(address.length - 4)}`;\n  };\n\n  const handleCopy = async (address) => {\n    await navigator.clipboard.writeText(address);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n  \n  return (\n    <div className=\"wallet-connect-container\">\n      {error && <Alert variant=\"danger\">{error}</Alert>}\n      \n      {accounts.length > 0 ? (\n        <div className=\"connected-wallet\">\n          <div className=\"account-info\">\n            <span className=\"account-label\">Connected Account:</span>\n            <span className=\"account-address\">{formatAddress(accounts[0])}</span>\n            <Button \n              variant=\"outline-secondary\"\n              size=\"sm\"\n              className=\"copy-button ms-2\"\n              onClick={() => handleCopy(accounts[0])}\n              title=\"Copy address\"\n              style={{\n                padding: '2px 8px',\n                display: 'inline-flex',\n                alignItems: 'center',\n                transition: 'all 0.2s ease',\n                border: '1px solid #dee2e6',\n                borderRadius: '4px',\n                backgroundColor: copied ? '#198754' : 'transparent'\n              }}\n            >\n              {copied ? 'âœ“' : 'ðŸ“‹'}\n            </Button>\n          </div>\n          <Button \n            variant=\"outline-danger\" \n            onClick={handleDisconnect}\n            size=\"sm\"\n          >\n            Disconnect\n          </Button>\n        </div>\n      ) : (\n        <Button \n          variant=\"primary\" \n          onClick={handleConnect}\n          disabled={isConnecting}\n        >\n          {isConnecting ? (\n            <>\n              <Spinner\n                as=\"span\"\n                animation=\"border\"\n                size=\"sm\"\n                role=\"status\"\n                aria-hidden=\"true\"\n              />\n              <span className=\"ms-2\">Connecting...</span>\n            </>\n          ) : (\n            'Connect Wallet'\n          )}\n        </Button>\n      )}\n    </div>\n  );\n};\n\nexport default WalletConnect; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}