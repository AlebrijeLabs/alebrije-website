{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Card,Spinner}from'react-bootstrap';import TokenService from'../services/token-service';import WalletService from'../services/wallet-service';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TokenBalance=_ref=>{let{tokenName}=_ref;const[balance,setBalance]=useState(null);const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(null);const[tokenInfo,setTokenInfo]=useState(null);const loadBalance=async()=>{if(!WalletService.isConnected()){setError('Wallet not connected');return;}setIsLoading(true);setError(null);try{const account=WalletService.getCurrentAccount();const balanceValue=await TokenService.getBalance(tokenName,account);setBalance(balanceValue);if(!tokenInfo){const info=TokenService.getTokenInfo(tokenName);if(info){setTokenInfo(info);}}}catch(err){setError(err.message||'Failed to load balance');console.error('Balance loading error:',err);}finally{setIsLoading(false);}};useEffect(()=>{if(WalletService.isConnected()){loadBalance();}const unsubscribe=WalletService.onAccountsChanged(()=>{loadBalance();});return()=>{if(unsubscribe)unsubscribe();};},[tokenName]);return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Token Balance\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Solana\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:\"SOL\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-end\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Decimals\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:\"9\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Your Balance\"}),/*#__PURE__*/_jsx(\"div\",{children:isLoading?/*#__PURE__*/_jsx(Spinner,{animation:\"border\",size:\"sm\"}):`${balance||'0'} SOL`})]})]})]})});};export default TokenBalance;","map":{"version":3,"names":["React","useState","useEffect","Card","Spinner","TokenService","WalletService","jsx","_jsx","jsxs","_jsxs","TokenBalance","_ref","tokenName","balance","setBalance","isLoading","setIsLoading","error","setError","tokenInfo","setTokenInfo","loadBalance","isConnected","account","getCurrentAccount","balanceValue","getBalance","info","getTokenInfo","err","message","console","unsubscribe","onAccountsChanged","children","Body","Title","className","animation","size"],"sources":["/Users/rastavo/alebrije-project/alebrije-wallet/src/components/TokenBalance.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Card, Spinner } from 'react-bootstrap';\nimport TokenService from '../services/token-service';\nimport WalletService from '../services/wallet-service';\n\nconst TokenBalance = ({ tokenName }) => {\n  const [balance, setBalance] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [tokenInfo, setTokenInfo] = useState(null);\n  \n  const loadBalance = async () => {\n    if (!WalletService.isConnected()) {\n      setError('Wallet not connected');\n      return;\n    }\n    \n    setIsLoading(true);\n    setError(null);\n    \n    try {\n      const account = WalletService.getCurrentAccount();\n      const balanceValue = await TokenService.getBalance(tokenName, account);\n      setBalance(balanceValue);\n      \n      if (!tokenInfo) {\n        const info = TokenService.getTokenInfo(tokenName);\n        if (info) {\n          setTokenInfo(info);\n        }\n      }\n    } catch (err) {\n      setError(err.message || 'Failed to load balance');\n      console.error('Balance loading error:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  useEffect(() => {\n    if (WalletService.isConnected()) {\n      loadBalance();\n    }\n    \n    const unsubscribe = WalletService.onAccountsChanged(() => {\n      loadBalance();\n    });\n    \n    return () => {\n      if (unsubscribe) unsubscribe();\n    };\n  }, [tokenName]);\n  \n  return (\n    <Card>\n      <Card.Body>\n        <Card.Title>Token Balance</Card.Title>\n        \n        {error && <div className=\"alert alert-danger\">{error}</div>}\n        \n        <div className=\"mb-4\">\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <div>\n              <strong>Solana</strong>\n              <div className=\"text-muted\">SOL</div>\n            </div>\n            <div className=\"text-end\">\n              <strong>Decimals</strong>\n              <div className=\"text-muted\">9</div>\n            </div>\n          </div>\n          \n          <div className=\"mt-3\">\n            <strong>Your Balance</strong>\n            <div>\n              {isLoading ? (\n                <Spinner animation=\"border\" size=\"sm\" />\n              ) : (\n                `${balance || '0'} SOL`\n              )}\n            </div>\n          </div>\n        </div>\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default TokenBalance; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}