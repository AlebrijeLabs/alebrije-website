{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMutex = void 0;\nconst getMutex = () => {\n  const DEFAULT_ID = Symbol();\n  const locks = {};\n  return async function () {\n    let lockId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_ID;\n    while (locks[lockId]) {\n      await locks[lockId];\n    }\n    let resolve = () => {};\n    locks[lockId] = new Promise(res => {\n      resolve = res;\n    }).finally(() => {\n      delete locks[lockId];\n    });\n    return resolve;\n  };\n};\nexports.getMutex = getMutex;","map":{"version":3,"names":["Object","defineProperty","exports","value","getMutex","DEFAULT_ID","Symbol","locks","lockId","arguments","length","undefined","resolve","Promise","res","finally"],"sources":["/Users/rastavo/alebrije-project/alebrije-wallet/node_modules/@trezor/utils/lib/getMutex.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getMutex = void 0;\nconst getMutex = () => {\n    const DEFAULT_ID = Symbol();\n    const locks = {};\n    return async (lockId = DEFAULT_ID) => {\n        while (locks[lockId]) {\n            await locks[lockId];\n        }\n        let resolve = () => { };\n        locks[lockId] = new Promise(res => {\n            resolve = res;\n        }).finally(() => {\n            delete locks[lockId];\n        });\n        return resolve;\n    };\n};\nexports.getMutex = getMutex;\n//# sourceMappingURL=getMutex.js.map"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,QAAQ,GAAG,KAAK,CAAC;AACzB,MAAMA,QAAQ,GAAGA,CAAA,KAAM;EACnB,MAAMC,UAAU,GAAGC,MAAM,CAAC,CAAC;EAC3B,MAAMC,KAAK,GAAG,CAAC,CAAC;EAChB,OAAO,kBAA+B;IAAA,IAAxBC,MAAM,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGJ,UAAU;IAC7B,OAAOE,KAAK,CAACC,MAAM,CAAC,EAAE;MAClB,MAAMD,KAAK,CAACC,MAAM,CAAC;IACvB;IACA,IAAII,OAAO,GAAGA,CAAA,KAAM,CAAE,CAAC;IACvBL,KAAK,CAACC,MAAM,CAAC,GAAG,IAAIK,OAAO,CAACC,GAAG,IAAI;MAC/BF,OAAO,GAAGE,GAAG;IACjB,CAAC,CAAC,CAACC,OAAO,CAAC,MAAM;MACb,OAAOR,KAAK,CAACC,MAAM,CAAC;IACxB,CAAC,CAAC;IACF,OAAOI,OAAO;EAClB,CAAC;AACL,CAAC;AACDV,OAAO,CAACE,QAAQ,GAAGA,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}