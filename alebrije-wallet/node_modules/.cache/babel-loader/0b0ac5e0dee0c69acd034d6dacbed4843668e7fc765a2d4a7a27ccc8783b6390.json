{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button,Alert}from'react-bootstrap';import WalletService from'../services/wallet-service';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const WalletConnect=()=>{const[isConnecting,setIsConnecting]=useState(false);const[error,setError]=useState(null);const[accounts,setAccounts]=useState([]);useEffect(()=>{if(WalletService.isConnected()){setAccounts(WalletService.getAccounts());}},[]);const handleConnect=async()=>{setIsConnecting(true);setError(null);try{const success=await WalletService.connect();if(success){setAccounts(WalletService.getAccounts());}else{setError('Failed to connect wallet. Please try again.');}}catch(err){setError(err.message||'An error occurred while connecting to your wallet.');console.error('Connection error:',err);}finally{setIsConnecting(false);}};const handleDisconnect=async()=>{try{await WalletService.disconnect();setAccounts([]);}catch(err){console.error('Disconnect error:',err);setError('Failed to disconnect wallet. Please try again.');}};const formatAddress=address=>{if(!address)return'';return`${address.substring(0,6)}...${address.substring(address.length-4)}`;};return accounts.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"wallet-connected\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"wallet-status-indicator connected me-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-success\",children:\"Connected\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"wallet-address mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block mb-1\",children:\"Wallet Address:\"}),/*#__PURE__*/_jsx(\"code\",{className:\"d-block text-break\",children:accounts[0]})]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline-danger\",onClick:handleDisconnect,className:\"disconnect-button w-100\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-circle me-2\"}),\"Disconnect Wallet\"]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"wallet-connect\",children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleConnect,disabled:isConnecting,className:\"connect-button w-100\",children:isConnecting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",\"aria-hidden\":\"true\"}),\"Connecting...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-wallet2 me-2\"}),\"Connect Wallet\"]})}),error&&/*#__PURE__*/_jsxs(Alert,{variant:\"danger\",className:\"mt-3 mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-exclamation-triangle me-2\"}),error]})]});};export default WalletConnect;","map":{"version":3,"names":["React","useState","useEffect","Button","Alert","WalletService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WalletConnect","isConnecting","setIsConnecting","error","setError","accounts","setAccounts","isConnected","getAccounts","handleConnect","success","connect","err","message","console","handleDisconnect","disconnect","formatAddress","address","substring","length","className","children","variant","onClick","disabled","role"],"sources":["/Users/rastavo/alebrije-project/alebrije-wallet/src/components/WalletConnect.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button, Alert } from 'react-bootstrap';\nimport WalletService from '../services/wallet-service';\n\nconst WalletConnect = () => {\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [error, setError] = useState(null);\n  const [accounts, setAccounts] = useState([]);\n  \n  useEffect(() => {\n    if (WalletService.isConnected()) {\n      setAccounts(WalletService.getAccounts());\n    }\n  }, []);\n  \n  const handleConnect = async () => {\n    setIsConnecting(true);\n    setError(null);\n    \n    try {\n      const success = await WalletService.connect();\n      if (success) {\n        setAccounts(WalletService.getAccounts());\n      } else {\n        setError('Failed to connect wallet. Please try again.');\n      }\n    } catch (err) {\n      setError(err.message || 'An error occurred while connecting to your wallet.');\n      console.error('Connection error:', err);\n    } finally {\n      setIsConnecting(false);\n    }\n  };\n  \n  const handleDisconnect = async () => {\n    try {\n      await WalletService.disconnect();\n      setAccounts([]);\n    } catch (err) {\n      console.error('Disconnect error:', err);\n      setError('Failed to disconnect wallet. Please try again.');\n    }\n  };\n  \n  const formatAddress = (address) => {\n    if (!address) return '';\n    return `${address.substring(0, 6)}...${address.substring(address.length - 4)}`;\n  };\n  \n  return accounts.length > 0 ? (\n    <div className=\"wallet-connected\">\n      <div className=\"d-flex align-items-center mb-3\">\n        <div className=\"wallet-status-indicator connected me-2\"></div>\n        <span className=\"text-success\">Connected</span>\n      </div>\n      <div className=\"wallet-address mb-3\">\n        <small className=\"text-muted d-block mb-1\">Wallet Address:</small>\n        <code className=\"d-block text-break\">{accounts[0]}</code>\n      </div>\n      <Button \n        variant=\"outline-danger\" \n        onClick={handleDisconnect}\n        className=\"disconnect-button w-100\"\n      >\n        <i className=\"bi bi-x-circle me-2\"></i>\n        Disconnect Wallet\n      </Button>\n    </div>\n  ) : (\n    <div className=\"wallet-connect\">\n      <Button \n        variant=\"primary\" \n        onClick={handleConnect}\n        disabled={isConnecting}\n        className=\"connect-button w-100\"\n      >\n        {isConnecting ? (\n          <>\n            <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n            Connecting...\n          </>\n        ) : (\n          <>\n            <i className=\"bi bi-wallet2 me-2\"></i>\n            Connect Wallet\n          </>\n        )}\n      </Button>\n      {error && (\n        <Alert variant=\"danger\" className=\"mt-3 mb-0\">\n          <i className=\"bi bi-exclamation-triangle me-2\"></i>\n          {error}\n        </Alert>\n      )}\n    </div>\n  );\n};\n\nexport default WalletConnect; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}