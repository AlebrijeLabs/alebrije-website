{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button,Alert}from'react-bootstrap';import WalletService from'../services/wallet-service';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WalletConnect=()=>{const[isConnecting,setIsConnecting]=useState(false);const[error,setError]=useState(null);const[accounts,setAccounts]=useState([]);useEffect(()=>{if(WalletService.isConnected()){setAccounts(WalletService.getAccounts());}},[]);const handleConnect=async()=>{setIsConnecting(true);setError(null);try{const success=await WalletService.connect();if(success){setAccounts(WalletService.getAccounts());}else{setError('Failed to connect wallet');}}catch(err){setError(err.message||'An error occurred while connecting');console.error('Connection error:',err);}finally{setIsConnecting(false);}};const handleDisconnect=async()=>{try{await WalletService.disconnect();setAccounts([]);}catch(err){console.error('Disconnect error:',err);}};const formatAddress=address=>{if(!address)return'';return`${address.substring(0,6)}...${address.substring(address.length-4)}`;};return accounts.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"me-2\",children:\"Connected: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"address me-2\",children:formatAddress(accounts[0])}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",onClick:handleDisconnect,className:\"disconnect-button w-100\",children:\"Disconnect Wallet\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleConnect,disabled:isConnecting,className:\"connect-button w-100\",children:isConnecting?'Connecting...':'Connect Wallet'}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",className:\"mt-2 mb-0 p-2 small\",children:error})]});};export default WalletConnect;","map":{"version":3,"names":["React","useState","useEffect","Button","Alert","WalletService","jsx","_jsx","jsxs","_jsxs","WalletConnect","isConnecting","setIsConnecting","error","setError","accounts","setAccounts","isConnected","getAccounts","handleConnect","success","connect","err","message","console","handleDisconnect","disconnect","formatAddress","address","substring","length","className","children","variant","size","onClick","disabled"],"sources":["/Users/rastavo/alebrije-project/alebrije-wallet/src/components/WalletConnect.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button, Alert } from 'react-bootstrap';\nimport WalletService from '../services/wallet-service';\n\nconst WalletConnect = () => {\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [error, setError] = useState(null);\n  const [accounts, setAccounts] = useState([]);\n  \n  useEffect(() => {\n    if (WalletService.isConnected()) {\n      setAccounts(WalletService.getAccounts());\n    }\n  }, []);\n  \n  const handleConnect = async () => {\n    setIsConnecting(true);\n    setError(null);\n    \n    try {\n      const success = await WalletService.connect();\n      if (success) {\n        setAccounts(WalletService.getAccounts());\n      } else {\n        setError('Failed to connect wallet');\n      }\n    } catch (err) {\n      setError(err.message || 'An error occurred while connecting');\n      console.error('Connection error:', err);\n    } finally {\n      setIsConnecting(false);\n    }\n  };\n  \n  const handleDisconnect = async () => {\n    try {\n      await WalletService.disconnect();\n      setAccounts([]);\n    } catch (err) {\n      console.error('Disconnect error:', err);\n    }\n  };\n  \n  const formatAddress = (address) => {\n    if (!address) return '';\n    return `${address.substring(0, 6)}...${address.substring(address.length - 4)}`;\n  };\n  \n  return accounts.length > 0 ? (\n    <div className=\"d-flex align-items-center\">\n      <span className=\"me-2\">Connected: </span>\n      <span className=\"address me-2\">\n        {formatAddress(accounts[0])}\n      </span>\n      <Button \n        variant=\"outline-danger\" \n        size=\"sm\"\n        onClick={handleDisconnect}\n        className=\"disconnect-button w-100\"\n      >\n        Disconnect Wallet\n      </Button>\n    </div>\n  ) : (\n    <div>\n      <Button \n        variant=\"primary\" \n        onClick={handleConnect}\n        disabled={isConnecting}\n        className=\"connect-button w-100\"\n      >\n        {isConnecting ? 'Connecting...' : 'Connect Wallet'}\n      </Button>\n      {error && (\n        <Alert variant=\"danger\" className=\"mt-2 mb-0 p-2 small\">\n          {error}\n        </Alert>\n      )}\n    </div>\n  );\n};\n\nexport default WalletConnect; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}