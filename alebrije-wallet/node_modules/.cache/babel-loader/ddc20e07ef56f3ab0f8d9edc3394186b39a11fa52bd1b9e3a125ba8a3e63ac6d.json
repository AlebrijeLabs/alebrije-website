{"ast":null,"code":"import { subscribe, snapshot, proxy, ref, unstable_buildProxyFunction } from 'valtio/vanilla';\nimport { derive } from 'derive-valtio';\nexport { derive, underive, unstable_deriveSubscriptions } from 'derive-valtio';\nfunction subscribeKey(proxyObject, key, callback, notifyInSync) {\n  let prevValue = proxyObject[key];\n  return subscribe(proxyObject, () => {\n    const nextValue = proxyObject[key];\n    if (!Object.is(prevValue, nextValue)) {\n      callback(prevValue = nextValue);\n    }\n  }, notifyInSync);\n}\nlet currentCleanups;\nfunction watch(callback, options) {\n  let alive = true;\n  const cleanups = /* @__PURE__ */new Set();\n  const subscriptions = /* @__PURE__ */new Map();\n  const cleanup = () => {\n    if (alive) {\n      alive = false;\n      cleanups.forEach(clean => clean());\n      cleanups.clear();\n      subscriptions.forEach(unsubscribe => unsubscribe());\n      subscriptions.clear();\n    }\n  };\n  const revalidate = async () => {\n    if (!alive) {\n      return;\n    }\n    cleanups.forEach(clean => clean());\n    cleanups.clear();\n    const proxiesToSubscribe = /* @__PURE__ */new Set();\n    const parent = currentCleanups;\n    currentCleanups = cleanups;\n    try {\n      const promiseOrPossibleCleanup = callback(proxyObject => {\n        proxiesToSubscribe.add(proxyObject);\n        if (alive && !subscriptions.has(proxyObject)) {\n          const unsubscribe = subscribe(proxyObject, revalidate, options == null ? void 0 : options.sync);\n          subscriptions.set(proxyObject, unsubscribe);\n        }\n        return proxyObject;\n      });\n      const couldBeCleanup = promiseOrPossibleCleanup && promiseOrPossibleCleanup instanceof Promise ? await promiseOrPossibleCleanup : promiseOrPossibleCleanup;\n      if (couldBeCleanup) {\n        if (alive) {\n          cleanups.add(couldBeCleanup);\n        } else {\n          cleanup();\n        }\n      }\n    } finally {\n      currentCleanups = parent;\n    }\n    subscriptions.forEach((unsubscribe, proxyObject) => {\n      if (!proxiesToSubscribe.has(proxyObject)) {\n        subscriptions.delete(proxyObject);\n        unsubscribe();\n      }\n    });\n  };\n  if (currentCleanups) {\n    currentCleanups.add(cleanup);\n  }\n  revalidate();\n  return cleanup;\n}\nconst DEVTOOLS = Symbol();\nfunction devtools(proxyObject, options) {\n  if (typeof options === \"string\") {\n    console.warn(\"string name option is deprecated, use { name }. https://github.com/pmndrs/valtio/pull/400\");\n    options = {\n      name: options\n    };\n  }\n  const {\n    enabled,\n    name = \"\",\n    ...rest\n  } = options || {};\n  let extension;\n  try {\n    extension = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {}\n  if (!extension) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\"[Warning] Please install/enable Redux devtools extension\");\n    }\n    return;\n  }\n  let isTimeTraveling = false;\n  const devtools2 = extension.connect({\n    name,\n    ...rest\n  });\n  const unsub1 = subscribe(proxyObject, ops => {\n    const action = ops.filter(_ref => {\n      let [_, path] = _ref;\n      return path[0] !== DEVTOOLS;\n    }).map(_ref2 => {\n      let [op, path] = _ref2;\n      return `${op}:${path.map(String).join(\".\")}`;\n    }).join(\", \");\n    if (!action) {\n      return;\n    }\n    if (isTimeTraveling) {\n      isTimeTraveling = false;\n    } else {\n      const snapWithoutDevtools = Object.assign({}, snapshot(proxyObject));\n      delete snapWithoutDevtools[DEVTOOLS];\n      devtools2.send({\n        type: action,\n        updatedAt: (/* @__PURE__ */new Date()).toLocaleString()\n      }, snapWithoutDevtools);\n    }\n  });\n  const unsub2 = devtools2.subscribe(message => {\n    var _a, _b, _c, _d, _e, _f;\n    if (message.type === \"ACTION\" && message.payload) {\n      try {\n        Object.assign(proxyObject, JSON.parse(message.payload));\n      } catch (e) {\n        console.error(\"please dispatch a serializable value that JSON.parse() and proxy() support\\n\", e);\n      }\n    }\n    if (message.type === \"DISPATCH\" && message.state) {\n      if (((_a = message.payload) == null ? void 0 : _a.type) === \"JUMP_TO_ACTION\" || ((_b = message.payload) == null ? void 0 : _b.type) === \"JUMP_TO_STATE\") {\n        isTimeTraveling = true;\n        const state = JSON.parse(message.state);\n        Object.assign(proxyObject, state);\n      }\n      proxyObject[DEVTOOLS] = message;\n    } else if (message.type === \"DISPATCH\" && ((_c = message.payload) == null ? void 0 : _c.type) === \"COMMIT\") {\n      devtools2.init(snapshot(proxyObject));\n    } else if (message.type === \"DISPATCH\" && ((_d = message.payload) == null ? void 0 : _d.type) === \"IMPORT_STATE\") {\n      const actions = (_e = message.payload.nextLiftedState) == null ? void 0 : _e.actionsById;\n      const computedStates = ((_f = message.payload.nextLiftedState) == null ? void 0 : _f.computedStates) || [];\n      isTimeTraveling = true;\n      computedStates.forEach((_ref3, index) => {\n        let {\n          state\n        } = _ref3;\n        const action = actions[index] || \"No action found\";\n        Object.assign(proxyObject, state);\n        if (index === 0) {\n          devtools2.init(snapshot(proxyObject));\n        } else {\n          devtools2.send(action, snapshot(proxyObject));\n        }\n      });\n    }\n  });\n  devtools2.init(snapshot(proxyObject));\n  return () => {\n    unsub1();\n    unsub2 == null ? void 0 : unsub2();\n  };\n}\nfunction addComputed_DEPRECATED(proxyObject, computedFns_FAKE) {\n  let targetObject = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : proxyObject;\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\"addComputed is deprecated. Please consider using `derive`. Falling back to emulation with derive. https://github.com/pmndrs/valtio/pull/201\");\n  }\n  const derivedFns = {};\n  Object.keys(computedFns_FAKE).forEach(key => {\n    derivedFns[key] = get => computedFns_FAKE[key](get(proxyObject));\n  });\n  return derive(derivedFns, {\n    proxy: targetObject\n  });\n}\nfunction proxyWithComputed_DEPRECATED(initialObject, computedFns) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn('proxyWithComputed is deprecated. Please follow \"Computed Properties\" guide in docs.');\n  }\n  Object.keys(computedFns).forEach(key => {\n    if (Object.getOwnPropertyDescriptor(initialObject, key)) {\n      throw new Error(\"object property already defined\");\n    }\n    const computedFn = computedFns[key];\n    const {\n      get,\n      set\n    } = typeof computedFn === \"function\" ? {\n      get: computedFn\n    } : computedFn;\n    const desc = {};\n    desc.get = () => get(snapshot(proxyObject));\n    if (set) {\n      desc.set = newValue => set(proxyObject, newValue);\n    }\n    Object.defineProperty(initialObject, key, desc);\n  });\n  const proxyObject = proxy(initialObject);\n  return proxyObject;\n}\nconst isObject = x => typeof x === \"object\" && x !== null;\nlet refSet;\nconst deepClone = obj => {\n  if (!refSet) {\n    refSet = unstable_buildProxyFunction()[2];\n  }\n  if (!isObject(obj) || refSet.has(obj)) {\n    return obj;\n  }\n  const baseObject = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n  Reflect.ownKeys(obj).forEach(key => {\n    baseObject[key] = deepClone(obj[key]);\n  });\n  return baseObject;\n};\nfunction proxyWithHistory_DEPRECATED(initialValue) {\n  let skipSubscribe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn('proxyWithHistory is deprecated. Please use the \"valtio-history\" package; refer to the docs');\n  }\n  const proxyObject = proxy({\n    value: initialValue,\n    history: ref({\n      wip: void 0,\n      // to avoid infinite loop\n      snapshots: [],\n      index: -1\n    }),\n    clone: deepClone,\n    canUndo: () => proxyObject.history.index > 0,\n    undo: () => {\n      if (proxyObject.canUndo()) {\n        proxyObject.value = proxyObject.history.wip = proxyObject.clone(proxyObject.history.snapshots[--proxyObject.history.index]);\n      }\n    },\n    canRedo: () => proxyObject.history.index < proxyObject.history.snapshots.length - 1,\n    redo: () => {\n      if (proxyObject.canRedo()) {\n        proxyObject.value = proxyObject.history.wip = proxyObject.clone(proxyObject.history.snapshots[++proxyObject.history.index]);\n      }\n    },\n    saveHistory: () => {\n      proxyObject.history.snapshots.splice(proxyObject.history.index + 1);\n      proxyObject.history.snapshots.push(snapshot(proxyObject).value);\n      ++proxyObject.history.index;\n    },\n    subscribe: () => subscribe(proxyObject, ops => {\n      if (ops.every(op => op[1][0] === \"value\" && (op[0] !== \"set\" || op[2] !== proxyObject.history.wip))) {\n        proxyObject.saveHistory();\n      }\n    })\n  });\n  proxyObject.saveHistory();\n  if (!skipSubscribe) {\n    proxyObject.subscribe();\n  }\n  return proxyObject;\n}\nfunction proxySet(initialValues) {\n  const set = proxy({\n    data: Array.from(new Set(initialValues)),\n    has(value) {\n      return this.data.indexOf(value) !== -1;\n    },\n    add(value) {\n      let hasProxy = false;\n      if (typeof value === \"object\" && value !== null) {\n        hasProxy = this.data.indexOf(proxy(value)) !== -1;\n      }\n      if (this.data.indexOf(value) === -1 && !hasProxy) {\n        this.data.push(value);\n      }\n      return this;\n    },\n    delete(value) {\n      const index = this.data.indexOf(value);\n      if (index === -1) {\n        return false;\n      }\n      this.data.splice(index, 1);\n      return true;\n    },\n    clear() {\n      this.data.splice(0);\n    },\n    get size() {\n      return this.data.length;\n    },\n    forEach(cb) {\n      this.data.forEach(value => {\n        cb(value, value, this);\n      });\n    },\n    get [Symbol.toStringTag]() {\n      return \"Set\";\n    },\n    toJSON() {\n      return new Set(this.data);\n    },\n    [Symbol.iterator]() {\n      return this.data[Symbol.iterator]();\n    },\n    values() {\n      return this.data.values();\n    },\n    keys() {\n      return this.data.values();\n    },\n    entries() {\n      return new Set(this.data).entries();\n    }\n  });\n  Object.defineProperties(set, {\n    data: {\n      enumerable: false\n    },\n    size: {\n      enumerable: false\n    },\n    toJSON: {\n      enumerable: false\n    }\n  });\n  Object.seal(set);\n  return set;\n}\nfunction proxyMap(entries) {\n  const map = proxy({\n    data: Array.from(entries || []),\n    has(key) {\n      return this.data.some(p => p[0] === key);\n    },\n    set(key, value) {\n      const record = this.data.find(p => p[0] === key);\n      if (record) {\n        record[1] = value;\n      } else {\n        this.data.push([key, value]);\n      }\n      return this;\n    },\n    get(key) {\n      var _a;\n      return (_a = this.data.find(p => p[0] === key)) == null ? void 0 : _a[1];\n    },\n    delete(key) {\n      const index = this.data.findIndex(p => p[0] === key);\n      if (index === -1) {\n        return false;\n      }\n      this.data.splice(index, 1);\n      return true;\n    },\n    clear() {\n      this.data.splice(0);\n    },\n    get size() {\n      return this.data.length;\n    },\n    toJSON() {\n      return new Map(this.data);\n    },\n    forEach(cb) {\n      this.data.forEach(p => {\n        cb(p[1], p[0], this);\n      });\n    },\n    keys() {\n      return this.data.map(p => p[0]).values();\n    },\n    values() {\n      return this.data.map(p => p[1]).values();\n    },\n    entries() {\n      return new Map(this.data).entries();\n    },\n    get [Symbol.toStringTag]() {\n      return \"Map\";\n    },\n    [Symbol.iterator]() {\n      return this.entries();\n    }\n  });\n  Object.defineProperties(map, {\n    data: {\n      enumerable: false\n    },\n    size: {\n      enumerable: false\n    },\n    toJSON: {\n      enumerable: false\n    }\n  });\n  Object.seal(map);\n  return map;\n}\nexport { addComputed_DEPRECATED as addComputed, devtools, proxyMap, proxySet, proxyWithComputed_DEPRECATED as proxyWithComputed, proxyWithHistory_DEPRECATED as proxyWithHistory, subscribeKey, watch };","map":{"version":3,"names":["subscribe","snapshot","proxy","ref","unstable_buildProxyFunction","derive","underive","unstable_deriveSubscriptions","subscribeKey","proxyObject","key","callback","notifyInSync","prevValue","nextValue","Object","is","currentCleanups","watch","options","alive","cleanups","Set","subscriptions","Map","cleanup","forEach","clean","clear","unsubscribe","revalidate","proxiesToSubscribe","parent","promiseOrPossibleCleanup","add","has","sync","set","couldBeCleanup","Promise","delete","DEVTOOLS","Symbol","devtools","console","warn","name","enabled","rest","extension","import","meta","env","MODE","window","__REDUX_DEVTOOLS_EXTENSION__","e","isTimeTraveling","devtools2","connect","unsub1","ops","action","filter","_ref","_","path","map","_ref2","op","String","join","snapWithoutDevtools","assign","send","type","updatedAt","Date","toLocaleString","unsub2","message","_a","_b","_c","_d","_e","_f","payload","JSON","parse","error","state","init","actions","nextLiftedState","actionsById","computedStates","_ref3","index","addComputed_DEPRECATED","computedFns_FAKE","targetObject","arguments","length","undefined","derivedFns","keys","get","proxyWithComputed_DEPRECATED","initialObject","computedFns","getOwnPropertyDescriptor","Error","computedFn","desc","newValue","defineProperty","isObject","x","refSet","deepClone","obj","baseObject","Array","isArray","create","getPrototypeOf","Reflect","ownKeys","proxyWithHistory_DEPRECATED","initialValue","skipSubscribe","value","history","wip","snapshots","clone","canUndo","undo","canRedo","redo","saveHistory","splice","push","every","proxySet","initialValues","data","from","indexOf","hasProxy","size","cb","toStringTag","toJSON","iterator","values","entries","defineProperties","enumerable","seal","proxyMap","some","p","record","find","findIndex","addComputed","proxyWithComputed","proxyWithHistory"],"sources":["/Users/rastavo/alebrije-project/alebrije-wallet/node_modules/valtio/esm/vanilla/utils.mjs"],"sourcesContent":["import { subscribe, snapshot, proxy, ref, unstable_buildProxyFunction } from 'valtio/vanilla';\nimport { derive } from 'derive-valtio';\nexport { derive, underive, unstable_deriveSubscriptions } from 'derive-valtio';\n\nfunction subscribeKey(proxyObject, key, callback, notifyInSync) {\n  let prevValue = proxyObject[key];\n  return subscribe(\n    proxyObject,\n    () => {\n      const nextValue = proxyObject[key];\n      if (!Object.is(prevValue, nextValue)) {\n        callback(prevValue = nextValue);\n      }\n    },\n    notifyInSync\n  );\n}\n\nlet currentCleanups;\nfunction watch(callback, options) {\n  let alive = true;\n  const cleanups = /* @__PURE__ */ new Set();\n  const subscriptions = /* @__PURE__ */ new Map();\n  const cleanup = () => {\n    if (alive) {\n      alive = false;\n      cleanups.forEach((clean) => clean());\n      cleanups.clear();\n      subscriptions.forEach((unsubscribe) => unsubscribe());\n      subscriptions.clear();\n    }\n  };\n  const revalidate = async () => {\n    if (!alive) {\n      return;\n    }\n    cleanups.forEach((clean) => clean());\n    cleanups.clear();\n    const proxiesToSubscribe = /* @__PURE__ */ new Set();\n    const parent = currentCleanups;\n    currentCleanups = cleanups;\n    try {\n      const promiseOrPossibleCleanup = callback((proxyObject) => {\n        proxiesToSubscribe.add(proxyObject);\n        if (alive && !subscriptions.has(proxyObject)) {\n          const unsubscribe = subscribe(proxyObject, revalidate, options == null ? void 0 : options.sync);\n          subscriptions.set(proxyObject, unsubscribe);\n        }\n        return proxyObject;\n      });\n      const couldBeCleanup = promiseOrPossibleCleanup && promiseOrPossibleCleanup instanceof Promise ? await promiseOrPossibleCleanup : promiseOrPossibleCleanup;\n      if (couldBeCleanup) {\n        if (alive) {\n          cleanups.add(couldBeCleanup);\n        } else {\n          cleanup();\n        }\n      }\n    } finally {\n      currentCleanups = parent;\n    }\n    subscriptions.forEach((unsubscribe, proxyObject) => {\n      if (!proxiesToSubscribe.has(proxyObject)) {\n        subscriptions.delete(proxyObject);\n        unsubscribe();\n      }\n    });\n  };\n  if (currentCleanups) {\n    currentCleanups.add(cleanup);\n  }\n  revalidate();\n  return cleanup;\n}\n\nconst DEVTOOLS = Symbol();\nfunction devtools(proxyObject, options) {\n  if (typeof options === \"string\") {\n    console.warn(\n      \"string name option is deprecated, use { name }. https://github.com/pmndrs/valtio/pull/400\"\n    );\n    options = { name: options };\n  }\n  const { enabled, name = \"\", ...rest } = options || {};\n  let extension;\n  try {\n    extension = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extension) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\"[Warning] Please install/enable Redux devtools extension\");\n    }\n    return;\n  }\n  let isTimeTraveling = false;\n  const devtools2 = extension.connect({ name, ...rest });\n  const unsub1 = subscribe(proxyObject, (ops) => {\n    const action = ops.filter(([_, path]) => path[0] !== DEVTOOLS).map(([op, path]) => `${op}:${path.map(String).join(\".\")}`).join(\", \");\n    if (!action) {\n      return;\n    }\n    if (isTimeTraveling) {\n      isTimeTraveling = false;\n    } else {\n      const snapWithoutDevtools = Object.assign({}, snapshot(proxyObject));\n      delete snapWithoutDevtools[DEVTOOLS];\n      devtools2.send(\n        {\n          type: action,\n          updatedAt: (/* @__PURE__ */ new Date()).toLocaleString()\n        },\n        snapWithoutDevtools\n      );\n    }\n  });\n  const unsub2 = devtools2.subscribe((message) => {\n    var _a, _b, _c, _d, _e, _f;\n    if (message.type === \"ACTION\" && message.payload) {\n      try {\n        Object.assign(proxyObject, JSON.parse(message.payload));\n      } catch (e) {\n        console.error(\n          \"please dispatch a serializable value that JSON.parse() and proxy() support\\n\",\n          e\n        );\n      }\n    }\n    if (message.type === \"DISPATCH\" && message.state) {\n      if (((_a = message.payload) == null ? void 0 : _a.type) === \"JUMP_TO_ACTION\" || ((_b = message.payload) == null ? void 0 : _b.type) === \"JUMP_TO_STATE\") {\n        isTimeTraveling = true;\n        const state = JSON.parse(message.state);\n        Object.assign(proxyObject, state);\n      }\n      proxyObject[DEVTOOLS] = message;\n    } else if (message.type === \"DISPATCH\" && ((_c = message.payload) == null ? void 0 : _c.type) === \"COMMIT\") {\n      devtools2.init(snapshot(proxyObject));\n    } else if (message.type === \"DISPATCH\" && ((_d = message.payload) == null ? void 0 : _d.type) === \"IMPORT_STATE\") {\n      const actions = (_e = message.payload.nextLiftedState) == null ? void 0 : _e.actionsById;\n      const computedStates = ((_f = message.payload.nextLiftedState) == null ? void 0 : _f.computedStates) || [];\n      isTimeTraveling = true;\n      computedStates.forEach(({ state }, index) => {\n        const action = actions[index] || \"No action found\";\n        Object.assign(proxyObject, state);\n        if (index === 0) {\n          devtools2.init(snapshot(proxyObject));\n        } else {\n          devtools2.send(action, snapshot(proxyObject));\n        }\n      });\n    }\n  });\n  devtools2.init(snapshot(proxyObject));\n  return () => {\n    unsub1();\n    unsub2 == null ? void 0 : unsub2();\n  };\n}\n\nfunction addComputed_DEPRECATED(proxyObject, computedFns_FAKE, targetObject = proxyObject) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"addComputed is deprecated. Please consider using `derive`. Falling back to emulation with derive. https://github.com/pmndrs/valtio/pull/201\"\n    );\n  }\n  const derivedFns = {};\n  Object.keys(computedFns_FAKE).forEach((key) => {\n    derivedFns[key] = (get) => computedFns_FAKE[key](get(proxyObject));\n  });\n  return derive(derivedFns, { proxy: targetObject });\n}\n\nfunction proxyWithComputed_DEPRECATED(initialObject, computedFns) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      'proxyWithComputed is deprecated. Please follow \"Computed Properties\" guide in docs.'\n    );\n  }\n  Object.keys(computedFns).forEach((key) => {\n    if (Object.getOwnPropertyDescriptor(initialObject, key)) {\n      throw new Error(\"object property already defined\");\n    }\n    const computedFn = computedFns[key];\n    const { get, set } = typeof computedFn === \"function\" ? { get: computedFn } : computedFn;\n    const desc = {};\n    desc.get = () => get(snapshot(proxyObject));\n    if (set) {\n      desc.set = (newValue) => set(proxyObject, newValue);\n    }\n    Object.defineProperty(initialObject, key, desc);\n  });\n  const proxyObject = proxy(initialObject);\n  return proxyObject;\n}\n\nconst isObject = (x) => typeof x === \"object\" && x !== null;\nlet refSet;\nconst deepClone = (obj) => {\n  if (!refSet) {\n    refSet = unstable_buildProxyFunction()[2];\n  }\n  if (!isObject(obj) || refSet.has(obj)) {\n    return obj;\n  }\n  const baseObject = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n  Reflect.ownKeys(obj).forEach((key) => {\n    baseObject[key] = deepClone(obj[key]);\n  });\n  return baseObject;\n};\nfunction proxyWithHistory_DEPRECATED(initialValue, skipSubscribe = false) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      'proxyWithHistory is deprecated. Please use the \"valtio-history\" package; refer to the docs'\n    );\n  }\n  const proxyObject = proxy({\n    value: initialValue,\n    history: ref({\n      wip: void 0,\n      // to avoid infinite loop\n      snapshots: [],\n      index: -1\n    }),\n    clone: deepClone,\n    canUndo: () => proxyObject.history.index > 0,\n    undo: () => {\n      if (proxyObject.canUndo()) {\n        proxyObject.value = proxyObject.history.wip = proxyObject.clone(\n          proxyObject.history.snapshots[--proxyObject.history.index]\n        );\n      }\n    },\n    canRedo: () => proxyObject.history.index < proxyObject.history.snapshots.length - 1,\n    redo: () => {\n      if (proxyObject.canRedo()) {\n        proxyObject.value = proxyObject.history.wip = proxyObject.clone(\n          proxyObject.history.snapshots[++proxyObject.history.index]\n        );\n      }\n    },\n    saveHistory: () => {\n      proxyObject.history.snapshots.splice(proxyObject.history.index + 1);\n      proxyObject.history.snapshots.push(snapshot(proxyObject).value);\n      ++proxyObject.history.index;\n    },\n    subscribe: () => subscribe(proxyObject, (ops) => {\n      if (ops.every(\n        (op) => op[1][0] === \"value\" && (op[0] !== \"set\" || op[2] !== proxyObject.history.wip)\n      )) {\n        proxyObject.saveHistory();\n      }\n    })\n  });\n  proxyObject.saveHistory();\n  if (!skipSubscribe) {\n    proxyObject.subscribe();\n  }\n  return proxyObject;\n}\n\nfunction proxySet(initialValues) {\n  const set = proxy({\n    data: Array.from(new Set(initialValues)),\n    has(value) {\n      return this.data.indexOf(value) !== -1;\n    },\n    add(value) {\n      let hasProxy = false;\n      if (typeof value === \"object\" && value !== null) {\n        hasProxy = this.data.indexOf(proxy(value)) !== -1;\n      }\n      if (this.data.indexOf(value) === -1 && !hasProxy) {\n        this.data.push(value);\n      }\n      return this;\n    },\n    delete(value) {\n      const index = this.data.indexOf(value);\n      if (index === -1) {\n        return false;\n      }\n      this.data.splice(index, 1);\n      return true;\n    },\n    clear() {\n      this.data.splice(0);\n    },\n    get size() {\n      return this.data.length;\n    },\n    forEach(cb) {\n      this.data.forEach((value) => {\n        cb(value, value, this);\n      });\n    },\n    get [Symbol.toStringTag]() {\n      return \"Set\";\n    },\n    toJSON() {\n      return new Set(this.data);\n    },\n    [Symbol.iterator]() {\n      return this.data[Symbol.iterator]();\n    },\n    values() {\n      return this.data.values();\n    },\n    keys() {\n      return this.data.values();\n    },\n    entries() {\n      return new Set(this.data).entries();\n    }\n  });\n  Object.defineProperties(set, {\n    data: {\n      enumerable: false\n    },\n    size: {\n      enumerable: false\n    },\n    toJSON: {\n      enumerable: false\n    }\n  });\n  Object.seal(set);\n  return set;\n}\n\nfunction proxyMap(entries) {\n  const map = proxy({\n    data: Array.from(entries || []),\n    has(key) {\n      return this.data.some((p) => p[0] === key);\n    },\n    set(key, value) {\n      const record = this.data.find((p) => p[0] === key);\n      if (record) {\n        record[1] = value;\n      } else {\n        this.data.push([key, value]);\n      }\n      return this;\n    },\n    get(key) {\n      var _a;\n      return (_a = this.data.find((p) => p[0] === key)) == null ? void 0 : _a[1];\n    },\n    delete(key) {\n      const index = this.data.findIndex((p) => p[0] === key);\n      if (index === -1) {\n        return false;\n      }\n      this.data.splice(index, 1);\n      return true;\n    },\n    clear() {\n      this.data.splice(0);\n    },\n    get size() {\n      return this.data.length;\n    },\n    toJSON() {\n      return new Map(this.data);\n    },\n    forEach(cb) {\n      this.data.forEach((p) => {\n        cb(p[1], p[0], this);\n      });\n    },\n    keys() {\n      return this.data.map((p) => p[0]).values();\n    },\n    values() {\n      return this.data.map((p) => p[1]).values();\n    },\n    entries() {\n      return new Map(this.data).entries();\n    },\n    get [Symbol.toStringTag]() {\n      return \"Map\";\n    },\n    [Symbol.iterator]() {\n      return this.entries();\n    }\n  });\n  Object.defineProperties(map, {\n    data: {\n      enumerable: false\n    },\n    size: {\n      enumerable: false\n    },\n    toJSON: {\n      enumerable: false\n    }\n  });\n  Object.seal(map);\n  return map;\n}\n\nexport { addComputed_DEPRECATED as addComputed, devtools, proxyMap, proxySet, proxyWithComputed_DEPRECATED as proxyWithComputed, proxyWithHistory_DEPRECATED as proxyWithHistory, subscribeKey, watch };\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,GAAG,EAAEC,2BAA2B,QAAQ,gBAAgB;AAC7F,SAASC,MAAM,QAAQ,eAAe;AACtC,SAASA,MAAM,EAAEC,QAAQ,EAAEC,4BAA4B,QAAQ,eAAe;AAE9E,SAASC,YAAYA,CAACC,WAAW,EAAEC,GAAG,EAAEC,QAAQ,EAAEC,YAAY,EAAE;EAC9D,IAAIC,SAAS,GAAGJ,WAAW,CAACC,GAAG,CAAC;EAChC,OAAOV,SAAS,CACdS,WAAW,EACX,MAAM;IACJ,MAAMK,SAAS,GAAGL,WAAW,CAACC,GAAG,CAAC;IAClC,IAAI,CAACK,MAAM,CAACC,EAAE,CAACH,SAAS,EAAEC,SAAS,CAAC,EAAE;MACpCH,QAAQ,CAACE,SAAS,GAAGC,SAAS,CAAC;IACjC;EACF,CAAC,EACDF,YACF,CAAC;AACH;AAEA,IAAIK,eAAe;AACnB,SAASC,KAAKA,CAACP,QAAQ,EAAEQ,OAAO,EAAE;EAChC,IAAIC,KAAK,GAAG,IAAI;EAChB,MAAMC,QAAQ,GAAG,eAAgB,IAAIC,GAAG,CAAC,CAAC;EAC1C,MAAMC,aAAa,GAAG,eAAgB,IAAIC,GAAG,CAAC,CAAC;EAC/C,MAAMC,OAAO,GAAGA,CAAA,KAAM;IACpB,IAAIL,KAAK,EAAE;MACTA,KAAK,GAAG,KAAK;MACbC,QAAQ,CAACK,OAAO,CAAEC,KAAK,IAAKA,KAAK,CAAC,CAAC,CAAC;MACpCN,QAAQ,CAACO,KAAK,CAAC,CAAC;MAChBL,aAAa,CAACG,OAAO,CAAEG,WAAW,IAAKA,WAAW,CAAC,CAAC,CAAC;MACrDN,aAAa,CAACK,KAAK,CAAC,CAAC;IACvB;EACF,CAAC;EACD,MAAME,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAACV,KAAK,EAAE;MACV;IACF;IACAC,QAAQ,CAACK,OAAO,CAAEC,KAAK,IAAKA,KAAK,CAAC,CAAC,CAAC;IACpCN,QAAQ,CAACO,KAAK,CAAC,CAAC;IAChB,MAAMG,kBAAkB,GAAG,eAAgB,IAAIT,GAAG,CAAC,CAAC;IACpD,MAAMU,MAAM,GAAGf,eAAe;IAC9BA,eAAe,GAAGI,QAAQ;IAC1B,IAAI;MACF,MAAMY,wBAAwB,GAAGtB,QAAQ,CAAEF,WAAW,IAAK;QACzDsB,kBAAkB,CAACG,GAAG,CAACzB,WAAW,CAAC;QACnC,IAAIW,KAAK,IAAI,CAACG,aAAa,CAACY,GAAG,CAAC1B,WAAW,CAAC,EAAE;UAC5C,MAAMoB,WAAW,GAAG7B,SAAS,CAACS,WAAW,EAAEqB,UAAU,EAAEX,OAAO,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACiB,IAAI,CAAC;UAC/Fb,aAAa,CAACc,GAAG,CAAC5B,WAAW,EAAEoB,WAAW,CAAC;QAC7C;QACA,OAAOpB,WAAW;MACpB,CAAC,CAAC;MACF,MAAM6B,cAAc,GAAGL,wBAAwB,IAAIA,wBAAwB,YAAYM,OAAO,GAAG,MAAMN,wBAAwB,GAAGA,wBAAwB;MAC1J,IAAIK,cAAc,EAAE;QAClB,IAAIlB,KAAK,EAAE;UACTC,QAAQ,CAACa,GAAG,CAACI,cAAc,CAAC;QAC9B,CAAC,MAAM;UACLb,OAAO,CAAC,CAAC;QACX;MACF;IACF,CAAC,SAAS;MACRR,eAAe,GAAGe,MAAM;IAC1B;IACAT,aAAa,CAACG,OAAO,CAAC,CAACG,WAAW,EAAEpB,WAAW,KAAK;MAClD,IAAI,CAACsB,kBAAkB,CAACI,GAAG,CAAC1B,WAAW,CAAC,EAAE;QACxCc,aAAa,CAACiB,MAAM,CAAC/B,WAAW,CAAC;QACjCoB,WAAW,CAAC,CAAC;MACf;IACF,CAAC,CAAC;EACJ,CAAC;EACD,IAAIZ,eAAe,EAAE;IACnBA,eAAe,CAACiB,GAAG,CAACT,OAAO,CAAC;EAC9B;EACAK,UAAU,CAAC,CAAC;EACZ,OAAOL,OAAO;AAChB;AAEA,MAAMgB,QAAQ,GAAGC,MAAM,CAAC,CAAC;AACzB,SAASC,QAAQA,CAAClC,WAAW,EAAEU,OAAO,EAAE;EACtC,IAAI,OAAOA,OAAO,KAAK,QAAQ,EAAE;IAC/ByB,OAAO,CAACC,IAAI,CACV,2FACF,CAAC;IACD1B,OAAO,GAAG;MAAE2B,IAAI,EAAE3B;IAAQ,CAAC;EAC7B;EACA,MAAM;IAAE4B,OAAO;IAAED,IAAI,GAAG,EAAE;IAAE,GAAGE;EAAK,CAAC,GAAG7B,OAAO,IAAI,CAAC,CAAC;EACrD,IAAI8B,SAAS;EACb,IAAI;IACFA,SAAS,GAAG,CAACF,OAAO,IAAI,IAAI,GAAGA,OAAO,GAAG,CAACG,MAAM,CAACC,IAAI,CAACC,GAAG,GAAGF,MAAM,CAACC,IAAI,CAACC,GAAG,CAACC,IAAI,GAAG,KAAK,CAAC,MAAM,YAAY,KAAKC,MAAM,CAACC,4BAA4B;EACrJ,CAAC,CAAC,OAAOC,CAAC,EAAE,CACZ;EACA,IAAI,CAACP,SAAS,EAAE;IACd,IAAI,CAACC,MAAM,CAACC,IAAI,CAACC,GAAG,GAAGF,MAAM,CAACC,IAAI,CAACC,GAAG,CAACC,IAAI,GAAG,KAAK,CAAC,MAAM,YAAY,IAAIN,OAAO,EAAE;MACjFH,OAAO,CAACC,IAAI,CAAC,0DAA0D,CAAC;IAC1E;IACA;EACF;EACA,IAAIY,eAAe,GAAG,KAAK;EAC3B,MAAMC,SAAS,GAAGT,SAAS,CAACU,OAAO,CAAC;IAAEb,IAAI;IAAE,GAAGE;EAAK,CAAC,CAAC;EACtD,MAAMY,MAAM,GAAG5D,SAAS,CAACS,WAAW,EAAGoD,GAAG,IAAK;IAC7C,MAAMC,MAAM,GAAGD,GAAG,CAACE,MAAM,CAACC,IAAA;MAAA,IAAC,CAACC,CAAC,EAAEC,IAAI,CAAC,GAAAF,IAAA;MAAA,OAAKE,IAAI,CAAC,CAAC,CAAC,KAAKzB,QAAQ;IAAA,EAAC,CAAC0B,GAAG,CAACC,KAAA;MAAA,IAAC,CAACC,EAAE,EAAEH,IAAI,CAAC,GAAAE,KAAA;MAAA,OAAK,GAAGC,EAAE,IAAIH,IAAI,CAACC,GAAG,CAACG,MAAM,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,EAAE;IAAA,EAAC,CAACA,IAAI,CAAC,IAAI,CAAC;IACpI,IAAI,CAACT,MAAM,EAAE;MACX;IACF;IACA,IAAIL,eAAe,EAAE;MACnBA,eAAe,GAAG,KAAK;IACzB,CAAC,MAAM;MACL,MAAMe,mBAAmB,GAAGzD,MAAM,CAAC0D,MAAM,CAAC,CAAC,CAAC,EAAExE,QAAQ,CAACQ,WAAW,CAAC,CAAC;MACpE,OAAO+D,mBAAmB,CAAC/B,QAAQ,CAAC;MACpCiB,SAAS,CAACgB,IAAI,CACZ;QACEC,IAAI,EAAEb,MAAM;QACZc,SAAS,EAAE,CAAC,eAAgB,IAAIC,IAAI,CAAC,CAAC,EAAEC,cAAc,CAAC;MACzD,CAAC,EACDN,mBACF,CAAC;IACH;EACF,CAAC,CAAC;EACF,MAAMO,MAAM,GAAGrB,SAAS,CAAC1D,SAAS,CAAEgF,OAAO,IAAK;IAC9C,IAAIC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE;IAC1B,IAAIN,OAAO,CAACL,IAAI,KAAK,QAAQ,IAAIK,OAAO,CAACO,OAAO,EAAE;MAChD,IAAI;QACFxE,MAAM,CAAC0D,MAAM,CAAChE,WAAW,EAAE+E,IAAI,CAACC,KAAK,CAACT,OAAO,CAACO,OAAO,CAAC,CAAC;MACzD,CAAC,CAAC,OAAO/B,CAAC,EAAE;QACVZ,OAAO,CAAC8C,KAAK,CACX,8EAA8E,EAC9ElC,CACF,CAAC;MACH;IACF;IACA,IAAIwB,OAAO,CAACL,IAAI,KAAK,UAAU,IAAIK,OAAO,CAACW,KAAK,EAAE;MAChD,IAAI,CAAC,CAACV,EAAE,GAAGD,OAAO,CAACO,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGN,EAAE,CAACN,IAAI,MAAM,gBAAgB,IAAI,CAAC,CAACO,EAAE,GAAGF,OAAO,CAACO,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGL,EAAE,CAACP,IAAI,MAAM,eAAe,EAAE;QACvJlB,eAAe,GAAG,IAAI;QACtB,MAAMkC,KAAK,GAAGH,IAAI,CAACC,KAAK,CAACT,OAAO,CAACW,KAAK,CAAC;QACvC5E,MAAM,CAAC0D,MAAM,CAAChE,WAAW,EAAEkF,KAAK,CAAC;MACnC;MACAlF,WAAW,CAACgC,QAAQ,CAAC,GAAGuC,OAAO;IACjC,CAAC,MAAM,IAAIA,OAAO,CAACL,IAAI,KAAK,UAAU,IAAI,CAAC,CAACQ,EAAE,GAAGH,OAAO,CAACO,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGJ,EAAE,CAACR,IAAI,MAAM,QAAQ,EAAE;MAC1GjB,SAAS,CAACkC,IAAI,CAAC3F,QAAQ,CAACQ,WAAW,CAAC,CAAC;IACvC,CAAC,MAAM,IAAIuE,OAAO,CAACL,IAAI,KAAK,UAAU,IAAI,CAAC,CAACS,EAAE,GAAGJ,OAAO,CAACO,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGH,EAAE,CAACT,IAAI,MAAM,cAAc,EAAE;MAChH,MAAMkB,OAAO,GAAG,CAACR,EAAE,GAAGL,OAAO,CAACO,OAAO,CAACO,eAAe,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGT,EAAE,CAACU,WAAW;MACxF,MAAMC,cAAc,GAAG,CAAC,CAACV,EAAE,GAAGN,OAAO,CAACO,OAAO,CAACO,eAAe,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGR,EAAE,CAACU,cAAc,KAAK,EAAE;MAC1GvC,eAAe,GAAG,IAAI;MACtBuC,cAAc,CAACtE,OAAO,CAAC,CAAAuE,KAAA,EAAYC,KAAK,KAAK;QAAA,IAArB;UAAEP;QAAM,CAAC,GAAAM,KAAA;QAC/B,MAAMnC,MAAM,GAAG+B,OAAO,CAACK,KAAK,CAAC,IAAI,iBAAiB;QAClDnF,MAAM,CAAC0D,MAAM,CAAChE,WAAW,EAAEkF,KAAK,CAAC;QACjC,IAAIO,KAAK,KAAK,CAAC,EAAE;UACfxC,SAAS,CAACkC,IAAI,CAAC3F,QAAQ,CAACQ,WAAW,CAAC,CAAC;QACvC,CAAC,MAAM;UACLiD,SAAS,CAACgB,IAAI,CAACZ,MAAM,EAAE7D,QAAQ,CAACQ,WAAW,CAAC,CAAC;QAC/C;MACF,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;EACFiD,SAAS,CAACkC,IAAI,CAAC3F,QAAQ,CAACQ,WAAW,CAAC,CAAC;EACrC,OAAO,MAAM;IACXmD,MAAM,CAAC,CAAC;IACRmB,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,MAAM,CAAC,CAAC;EACpC,CAAC;AACH;AAEA,SAASoB,sBAAsBA,CAAC1F,WAAW,EAAE2F,gBAAgB,EAA8B;EAAA,IAA5BC,YAAY,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG7F,WAAW;EACvF,IAAI,CAACyC,MAAM,CAACC,IAAI,CAACC,GAAG,GAAGF,MAAM,CAACC,IAAI,CAACC,GAAG,CAACC,IAAI,GAAG,KAAK,CAAC,MAAM,YAAY,EAAE;IACtET,OAAO,CAACC,IAAI,CACV,6IACF,CAAC;EACH;EACA,MAAM4D,UAAU,GAAG,CAAC,CAAC;EACrB1F,MAAM,CAAC2F,IAAI,CAACN,gBAAgB,CAAC,CAAC1E,OAAO,CAAEhB,GAAG,IAAK;IAC7C+F,UAAU,CAAC/F,GAAG,CAAC,GAAIiG,GAAG,IAAKP,gBAAgB,CAAC1F,GAAG,CAAC,CAACiG,GAAG,CAAClG,WAAW,CAAC,CAAC;EACpE,CAAC,CAAC;EACF,OAAOJ,MAAM,CAACoG,UAAU,EAAE;IAAEvG,KAAK,EAAEmG;EAAa,CAAC,CAAC;AACpD;AAEA,SAASO,4BAA4BA,CAACC,aAAa,EAAEC,WAAW,EAAE;EAChE,IAAI,CAAC5D,MAAM,CAACC,IAAI,CAACC,GAAG,GAAGF,MAAM,CAACC,IAAI,CAACC,GAAG,CAACC,IAAI,GAAG,KAAK,CAAC,MAAM,YAAY,EAAE;IACtET,OAAO,CAACC,IAAI,CACV,qFACF,CAAC;EACH;EACA9B,MAAM,CAAC2F,IAAI,CAACI,WAAW,CAAC,CAACpF,OAAO,CAAEhB,GAAG,IAAK;IACxC,IAAIK,MAAM,CAACgG,wBAAwB,CAACF,aAAa,EAAEnG,GAAG,CAAC,EAAE;MACvD,MAAM,IAAIsG,KAAK,CAAC,iCAAiC,CAAC;IACpD;IACA,MAAMC,UAAU,GAAGH,WAAW,CAACpG,GAAG,CAAC;IACnC,MAAM;MAAEiG,GAAG;MAAEtE;IAAI,CAAC,GAAG,OAAO4E,UAAU,KAAK,UAAU,GAAG;MAAEN,GAAG,EAAEM;IAAW,CAAC,GAAGA,UAAU;IACxF,MAAMC,IAAI,GAAG,CAAC,CAAC;IACfA,IAAI,CAACP,GAAG,GAAG,MAAMA,GAAG,CAAC1G,QAAQ,CAACQ,WAAW,CAAC,CAAC;IAC3C,IAAI4B,GAAG,EAAE;MACP6E,IAAI,CAAC7E,GAAG,GAAI8E,QAAQ,IAAK9E,GAAG,CAAC5B,WAAW,EAAE0G,QAAQ,CAAC;IACrD;IACApG,MAAM,CAACqG,cAAc,CAACP,aAAa,EAAEnG,GAAG,EAAEwG,IAAI,CAAC;EACjD,CAAC,CAAC;EACF,MAAMzG,WAAW,GAAGP,KAAK,CAAC2G,aAAa,CAAC;EACxC,OAAOpG,WAAW;AACpB;AAEA,MAAM4G,QAAQ,GAAIC,CAAC,IAAK,OAAOA,CAAC,KAAK,QAAQ,IAAIA,CAAC,KAAK,IAAI;AAC3D,IAAIC,MAAM;AACV,MAAMC,SAAS,GAAIC,GAAG,IAAK;EACzB,IAAI,CAACF,MAAM,EAAE;IACXA,MAAM,GAAGnH,2BAA2B,CAAC,CAAC,CAAC,CAAC,CAAC;EAC3C;EACA,IAAI,CAACiH,QAAQ,CAACI,GAAG,CAAC,IAAIF,MAAM,CAACpF,GAAG,CAACsF,GAAG,CAAC,EAAE;IACrC,OAAOA,GAAG;EACZ;EACA,MAAMC,UAAU,GAAGC,KAAK,CAACC,OAAO,CAACH,GAAG,CAAC,GAAG,EAAE,GAAG1G,MAAM,CAAC8G,MAAM,CAAC9G,MAAM,CAAC+G,cAAc,CAACL,GAAG,CAAC,CAAC;EACtFM,OAAO,CAACC,OAAO,CAACP,GAAG,CAAC,CAAC/F,OAAO,CAAEhB,GAAG,IAAK;IACpCgH,UAAU,CAAChH,GAAG,CAAC,GAAG8G,SAAS,CAACC,GAAG,CAAC/G,GAAG,CAAC,CAAC;EACvC,CAAC,CAAC;EACF,OAAOgH,UAAU;AACnB,CAAC;AACD,SAASO,2BAA2BA,CAACC,YAAY,EAAyB;EAAA,IAAvBC,aAAa,GAAA7B,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;EACtE,IAAI,CAACpD,MAAM,CAACC,IAAI,CAACC,GAAG,GAAGF,MAAM,CAACC,IAAI,CAACC,GAAG,CAACC,IAAI,GAAG,KAAK,CAAC,MAAM,YAAY,EAAE;IACtET,OAAO,CAACC,IAAI,CACV,4FACF,CAAC;EACH;EACA,MAAMpC,WAAW,GAAGP,KAAK,CAAC;IACxBkI,KAAK,EAAEF,YAAY;IACnBG,OAAO,EAAElI,GAAG,CAAC;MACXmI,GAAG,EAAE,KAAK,CAAC;MACX;MACAC,SAAS,EAAE,EAAE;MACbrC,KAAK,EAAE,CAAC;IACV,CAAC,CAAC;IACFsC,KAAK,EAAEhB,SAAS;IAChBiB,OAAO,EAAEA,CAAA,KAAMhI,WAAW,CAAC4H,OAAO,CAACnC,KAAK,GAAG,CAAC;IAC5CwC,IAAI,EAAEA,CAAA,KAAM;MACV,IAAIjI,WAAW,CAACgI,OAAO,CAAC,CAAC,EAAE;QACzBhI,WAAW,CAAC2H,KAAK,GAAG3H,WAAW,CAAC4H,OAAO,CAACC,GAAG,GAAG7H,WAAW,CAAC+H,KAAK,CAC7D/H,WAAW,CAAC4H,OAAO,CAACE,SAAS,CAAC,EAAE9H,WAAW,CAAC4H,OAAO,CAACnC,KAAK,CAC3D,CAAC;MACH;IACF,CAAC;IACDyC,OAAO,EAAEA,CAAA,KAAMlI,WAAW,CAAC4H,OAAO,CAACnC,KAAK,GAAGzF,WAAW,CAAC4H,OAAO,CAACE,SAAS,CAAChC,MAAM,GAAG,CAAC;IACnFqC,IAAI,EAAEA,CAAA,KAAM;MACV,IAAInI,WAAW,CAACkI,OAAO,CAAC,CAAC,EAAE;QACzBlI,WAAW,CAAC2H,KAAK,GAAG3H,WAAW,CAAC4H,OAAO,CAACC,GAAG,GAAG7H,WAAW,CAAC+H,KAAK,CAC7D/H,WAAW,CAAC4H,OAAO,CAACE,SAAS,CAAC,EAAE9H,WAAW,CAAC4H,OAAO,CAACnC,KAAK,CAC3D,CAAC;MACH;IACF,CAAC;IACD2C,WAAW,EAAEA,CAAA,KAAM;MACjBpI,WAAW,CAAC4H,OAAO,CAACE,SAAS,CAACO,MAAM,CAACrI,WAAW,CAAC4H,OAAO,CAACnC,KAAK,GAAG,CAAC,CAAC;MACnEzF,WAAW,CAAC4H,OAAO,CAACE,SAAS,CAACQ,IAAI,CAAC9I,QAAQ,CAACQ,WAAW,CAAC,CAAC2H,KAAK,CAAC;MAC/D,EAAE3H,WAAW,CAAC4H,OAAO,CAACnC,KAAK;IAC7B,CAAC;IACDlG,SAAS,EAAEA,CAAA,KAAMA,SAAS,CAACS,WAAW,EAAGoD,GAAG,IAAK;MAC/C,IAAIA,GAAG,CAACmF,KAAK,CACV3E,EAAE,IAAKA,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,OAAO,KAAKA,EAAE,CAAC,CAAC,CAAC,KAAK,KAAK,IAAIA,EAAE,CAAC,CAAC,CAAC,KAAK5D,WAAW,CAAC4H,OAAO,CAACC,GAAG,CACvF,CAAC,EAAE;QACD7H,WAAW,CAACoI,WAAW,CAAC,CAAC;MAC3B;IACF,CAAC;EACH,CAAC,CAAC;EACFpI,WAAW,CAACoI,WAAW,CAAC,CAAC;EACzB,IAAI,CAACV,aAAa,EAAE;IAClB1H,WAAW,CAACT,SAAS,CAAC,CAAC;EACzB;EACA,OAAOS,WAAW;AACpB;AAEA,SAASwI,QAAQA,CAACC,aAAa,EAAE;EAC/B,MAAM7G,GAAG,GAAGnC,KAAK,CAAC;IAChBiJ,IAAI,EAAExB,KAAK,CAACyB,IAAI,CAAC,IAAI9H,GAAG,CAAC4H,aAAa,CAAC,CAAC;IACxC/G,GAAGA,CAACiG,KAAK,EAAE;MACT,OAAO,IAAI,CAACe,IAAI,CAACE,OAAO,CAACjB,KAAK,CAAC,KAAK,CAAC,CAAC;IACxC,CAAC;IACDlG,GAAGA,CAACkG,KAAK,EAAE;MACT,IAAIkB,QAAQ,GAAG,KAAK;MACpB,IAAI,OAAOlB,KAAK,KAAK,QAAQ,IAAIA,KAAK,KAAK,IAAI,EAAE;QAC/CkB,QAAQ,GAAG,IAAI,CAACH,IAAI,CAACE,OAAO,CAACnJ,KAAK,CAACkI,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC;MACnD;MACA,IAAI,IAAI,CAACe,IAAI,CAACE,OAAO,CAACjB,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,CAACkB,QAAQ,EAAE;QAChD,IAAI,CAACH,IAAI,CAACJ,IAAI,CAACX,KAAK,CAAC;MACvB;MACA,OAAO,IAAI;IACb,CAAC;IACD5F,MAAMA,CAAC4F,KAAK,EAAE;MACZ,MAAMlC,KAAK,GAAG,IAAI,CAACiD,IAAI,CAACE,OAAO,CAACjB,KAAK,CAAC;MACtC,IAAIlC,KAAK,KAAK,CAAC,CAAC,EAAE;QAChB,OAAO,KAAK;MACd;MACA,IAAI,CAACiD,IAAI,CAACL,MAAM,CAAC5C,KAAK,EAAE,CAAC,CAAC;MAC1B,OAAO,IAAI;IACb,CAAC;IACDtE,KAAKA,CAAA,EAAG;MACN,IAAI,CAACuH,IAAI,CAACL,MAAM,CAAC,CAAC,CAAC;IACrB,CAAC;IACD,IAAIS,IAAIA,CAAA,EAAG;MACT,OAAO,IAAI,CAACJ,IAAI,CAAC5C,MAAM;IACzB,CAAC;IACD7E,OAAOA,CAAC8H,EAAE,EAAE;MACV,IAAI,CAACL,IAAI,CAACzH,OAAO,CAAE0G,KAAK,IAAK;QAC3BoB,EAAE,CAACpB,KAAK,EAAEA,KAAK,EAAE,IAAI,CAAC;MACxB,CAAC,CAAC;IACJ,CAAC;IACD,KAAK1F,MAAM,CAAC+G,WAAW,IAAI;MACzB,OAAO,KAAK;IACd,CAAC;IACDC,MAAMA,CAAA,EAAG;MACP,OAAO,IAAIpI,GAAG,CAAC,IAAI,CAAC6H,IAAI,CAAC;IAC3B,CAAC;IACD,CAACzG,MAAM,CAACiH,QAAQ,IAAI;MAClB,OAAO,IAAI,CAACR,IAAI,CAACzG,MAAM,CAACiH,QAAQ,CAAC,CAAC,CAAC;IACrC,CAAC;IACDC,MAAMA,CAAA,EAAG;MACP,OAAO,IAAI,CAACT,IAAI,CAACS,MAAM,CAAC,CAAC;IAC3B,CAAC;IACDlD,IAAIA,CAAA,EAAG;MACL,OAAO,IAAI,CAACyC,IAAI,CAACS,MAAM,CAAC,CAAC;IAC3B,CAAC;IACDC,OAAOA,CAAA,EAAG;MACR,OAAO,IAAIvI,GAAG,CAAC,IAAI,CAAC6H,IAAI,CAAC,CAACU,OAAO,CAAC,CAAC;IACrC;EACF,CAAC,CAAC;EACF9I,MAAM,CAAC+I,gBAAgB,CAACzH,GAAG,EAAE;IAC3B8G,IAAI,EAAE;MACJY,UAAU,EAAE;IACd,CAAC;IACDR,IAAI,EAAE;MACJQ,UAAU,EAAE;IACd,CAAC;IACDL,MAAM,EAAE;MACNK,UAAU,EAAE;IACd;EACF,CAAC,CAAC;EACFhJ,MAAM,CAACiJ,IAAI,CAAC3H,GAAG,CAAC;EAChB,OAAOA,GAAG;AACZ;AAEA,SAAS4H,QAAQA,CAACJ,OAAO,EAAE;EACzB,MAAM1F,GAAG,GAAGjE,KAAK,CAAC;IAChBiJ,IAAI,EAAExB,KAAK,CAACyB,IAAI,CAACS,OAAO,IAAI,EAAE,CAAC;IAC/B1H,GAAGA,CAACzB,GAAG,EAAE;MACP,OAAO,IAAI,CAACyI,IAAI,CAACe,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAAC,CAAC,CAAC,KAAKzJ,GAAG,CAAC;IAC5C,CAAC;IACD2B,GAAGA,CAAC3B,GAAG,EAAE0H,KAAK,EAAE;MACd,MAAMgC,MAAM,GAAG,IAAI,CAACjB,IAAI,CAACkB,IAAI,CAAEF,CAAC,IAAKA,CAAC,CAAC,CAAC,CAAC,KAAKzJ,GAAG,CAAC;MAClD,IAAI0J,MAAM,EAAE;QACVA,MAAM,CAAC,CAAC,CAAC,GAAGhC,KAAK;MACnB,CAAC,MAAM;QACL,IAAI,CAACe,IAAI,CAACJ,IAAI,CAAC,CAACrI,GAAG,EAAE0H,KAAK,CAAC,CAAC;MAC9B;MACA,OAAO,IAAI;IACb,CAAC;IACDzB,GAAGA,CAACjG,GAAG,EAAE;MACP,IAAIuE,EAAE;MACN,OAAO,CAACA,EAAE,GAAG,IAAI,CAACkE,IAAI,CAACkB,IAAI,CAAEF,CAAC,IAAKA,CAAC,CAAC,CAAC,CAAC,KAAKzJ,GAAG,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGuE,EAAE,CAAC,CAAC,CAAC;IAC5E,CAAC;IACDzC,MAAMA,CAAC9B,GAAG,EAAE;MACV,MAAMwF,KAAK,GAAG,IAAI,CAACiD,IAAI,CAACmB,SAAS,CAAEH,CAAC,IAAKA,CAAC,CAAC,CAAC,CAAC,KAAKzJ,GAAG,CAAC;MACtD,IAAIwF,KAAK,KAAK,CAAC,CAAC,EAAE;QAChB,OAAO,KAAK;MACd;MACA,IAAI,CAACiD,IAAI,CAACL,MAAM,CAAC5C,KAAK,EAAE,CAAC,CAAC;MAC1B,OAAO,IAAI;IACb,CAAC;IACDtE,KAAKA,CAAA,EAAG;MACN,IAAI,CAACuH,IAAI,CAACL,MAAM,CAAC,CAAC,CAAC;IACrB,CAAC;IACD,IAAIS,IAAIA,CAAA,EAAG;MACT,OAAO,IAAI,CAACJ,IAAI,CAAC5C,MAAM;IACzB,CAAC;IACDmD,MAAMA,CAAA,EAAG;MACP,OAAO,IAAIlI,GAAG,CAAC,IAAI,CAAC2H,IAAI,CAAC;IAC3B,CAAC;IACDzH,OAAOA,CAAC8H,EAAE,EAAE;MACV,IAAI,CAACL,IAAI,CAACzH,OAAO,CAAEyI,CAAC,IAAK;QACvBX,EAAE,CAACW,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC;MACtB,CAAC,CAAC;IACJ,CAAC;IACDzD,IAAIA,CAAA,EAAG;MACL,OAAO,IAAI,CAACyC,IAAI,CAAChF,GAAG,CAAEgG,CAAC,IAAKA,CAAC,CAAC,CAAC,CAAC,CAAC,CAACP,MAAM,CAAC,CAAC;IAC5C,CAAC;IACDA,MAAMA,CAAA,EAAG;MACP,OAAO,IAAI,CAACT,IAAI,CAAChF,GAAG,CAAEgG,CAAC,IAAKA,CAAC,CAAC,CAAC,CAAC,CAAC,CAACP,MAAM,CAAC,CAAC;IAC5C,CAAC;IACDC,OAAOA,CAAA,EAAG;MACR,OAAO,IAAIrI,GAAG,CAAC,IAAI,CAAC2H,IAAI,CAAC,CAACU,OAAO,CAAC,CAAC;IACrC,CAAC;IACD,KAAKnH,MAAM,CAAC+G,WAAW,IAAI;MACzB,OAAO,KAAK;IACd,CAAC;IACD,CAAC/G,MAAM,CAACiH,QAAQ,IAAI;MAClB,OAAO,IAAI,CAACE,OAAO,CAAC,CAAC;IACvB;EACF,CAAC,CAAC;EACF9I,MAAM,CAAC+I,gBAAgB,CAAC3F,GAAG,EAAE;IAC3BgF,IAAI,EAAE;MACJY,UAAU,EAAE;IACd,CAAC;IACDR,IAAI,EAAE;MACJQ,UAAU,EAAE;IACd,CAAC;IACDL,MAAM,EAAE;MACNK,UAAU,EAAE;IACd;EACF,CAAC,CAAC;EACFhJ,MAAM,CAACiJ,IAAI,CAAC7F,GAAG,CAAC;EAChB,OAAOA,GAAG;AACZ;AAEA,SAASgC,sBAAsB,IAAIoE,WAAW,EAAE5H,QAAQ,EAAEsH,QAAQ,EAAEhB,QAAQ,EAAErC,4BAA4B,IAAI4D,iBAAiB,EAAEvC,2BAA2B,IAAIwC,gBAAgB,EAAEjK,YAAY,EAAEU,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}